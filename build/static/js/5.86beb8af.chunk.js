(this["webpackJsonpinsaf-academy-admin"]=this["webpackJsonpinsaf-academy-admin"]||[]).push([[5],{299:function(e,t,n){},305:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),i=n(111),r=n(16),l=(n(299),n(24)),s=n(148),a=n(86),d=n(71),u=n(106),j=n(9),b=[{to:"/",label:"Dashboard ",icon:"ios-speedometer"},{to:"/gallery",label:"Gallery",icon:"md-photos"},{to:"/slider",label:"Slider",icon:"ios-images"},{to:"/news-&-events",label:"News & Events",icon:"md-paper"},{to:"/team",label:"Core Team",icon:"ios-people"},{to:"/headlines",label:"Headlines",icon:"ios-notifications"},{to:"/tenders",label:"Tenders",icon:"ios-briefcase"},{to:"/jobs",label:"Jobs",icon:"ios-construct"},{to:"/downloads",label:"Downloads",icon:"md-download"},{to:"/usefulLinks",label:"Useful Links",icon:"md-link"},{to:"/social-links",label:"Social Links",icon:"md-phone-portrait"},{to:"/videos",label:"Videos",icon:"ios-videocam"},{to:"/locations",label:"Locations",icon:"md-pin"}],f=function(e){var t=Object(r.e)(),n=Object(u.b)(),o=Object(c.useState)(null),f=Object(l.a)(o,2),O=f[0],v=f[1],h=Object(u.c)();Object(c.useEffect)((function(){n.can("read:any","subjects"),n.can("read:any","users")}),[h,n]),Object(c.useEffect)((function(){v(null===t||void 0===t?void 0:t.pathname)}),[t]);return Object(j.jsxs)(i.i,{h:"100%",w:"260px",minW:"260px",bg:"white",py:"10px",shadow:"lg",borderRight:"1px solid",borderColor:"gray.100",children:[Object(j.jsx)(i.i,{w:"100%",spacing:2,px:3,h:"100%",overflowY:"auto",children:null===b||void 0===b?void 0:b.map((function(e,t){return Object(j.jsx)(i.a,{w:"100%",children:Object(j.jsx)(a.c,{to:e.to,children:Object(j.jsxs)(i.c,{bg:O===e.to?"brand.500":"white",className:"align-center",px:"2",py:"1.5",rounded:"sm",_hover:{bg:O!==e.to&&"gray.100"},children:[Object(j.jsx)(i.a,{w:"28px",as:"span",mr:"1",h:"28px",className:"center",rounded:"full",children:Object(j.jsx)(d.c,{name:e.icon,color:O===e.to?"white":"gray.400",fontSize:"18px"})}),Object(j.jsxs)(i.h,{as:"span",fontWeight:"medium",fontSize:"sm",color:O===e.to?"white":"gray.500",children:[e.label," "]})]})})},t)}))}),Object(j.jsx)(i.a,{w:"100%",className:"justify-center",children:Object(j.jsx)(s.a,{w:"100%",src:"/images/logo.png",alt:"Insaf Academy",height:"80px",width:"auto"})})]})},O=n(138),v=function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"Home Page"}),Object(j.jsx)(u.a,{I:"read:any",a:"users",children:Object(j.jsx)("button",{children:"Create Todo"})})]})},h=n(6),p=n.n(h),x=n(10),m=n(47),g=n(61),y=n(13),w=n(154),C=n(112),S=n(105),z=n(4),k=n(3),_=function(e){var t,n,r,a=e.open,u=e.data,b=e.onClose,f=Object(w.a)(),O=Object(m.c)(),v=Object(y.b)(!1),h=Object(l.a)(v,2),p=h[0],x=h[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=Object(c.useState)(null),L=Object(l.a)(T,2),U=L[0],q=L[1],Q=o.a.useRef(),N=function(e,t){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){u&&a&&E(Object(z.a)(Object(z.a)({},u),{},{thumbnail:{file:null,preview:k.d+"\\"+(null===u||void 0===u?void 0:u.thumbnail)}}))}),[u,a]);return Object(j.jsx)(d.b,{open:a,onClose:function(){E({}),q(null),b()},title:u?"Update Gallery":"Create New Gallery",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:p,size:"sm",rounded:"sm",type:"submit",form:"gallery-form",children:"Submit"})})}),children:Object(j.jsxs)("form",{id:"gallery-form",onSubmit:function(e){var t;e.preventDefault(),x.on(),q(null);var n=new FormData;n.append("title",(null===I||void 0===I?void 0:I.title)||""),n.append("description",(null===I||void 0===I?void 0:I.description)||""),n.append("thumbnail",(null===I||void 0===I||null===(t=I.thumbnail)||void 0===t?void 0:t.file)||(null===u||void 0===u?void 0:u.thumbnail)),u&&n.append("_id",(null===I||void 0===I?void 0:I._id)||"");var c=u?g.c.update(n):g.c.add(n);O(c).then((function(e){x.off(),f({description:e.message,status:"success"}),b()})).catch((function(e){q(null===e||void 0===e?void 0:e.error),f({description:null===e||void 0===e?void 0:e.message,status:"error"}),x.off()}))},children:[Object(j.jsx)(s.a,{objectFit:"cover",boxSize:"150px",rounded:"0",src:(null===I||void 0===I||null===(t=I.thumbnail)||void 0===t?void 0:t.preview)||"https://cdn.icon-icons.com/icons2/1993/PNG/512/frame_gallery_image_images_photo_picture_pictures_icon_123209.png",onClick:function(e){Q.current.click()}}),Object(j.jsx)(d.d,{d:"none",type:"file",ref:Q,onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,{file:c,preview:n.result})))},c&&n.readAsDataURL(c)}("thumbnail",e)}}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(n=U.title)||void 0===n?void 0:n.message,label:"Gallery Title",value:(null===I||void 0===I?void 0:I.title)||"",onChange:function(e){return N("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===U||void 0===U||null===(r=U.description)||void 0===r?void 0:r.message,label:"Gallery Description",value:(null===I||void 0===I?void 0:I.description)||"",onChange:function(e){return N("description",e.target.value)}})})]})})},D=function(e){var t=e.data,n=e.onEdit,c=e.onView,o=e.onDelete,r=e.active;return Object(j.jsxs)(i.a,{bg:"white",border:"2px solid",borderColor:r?"brand.500":"transparent",rounded:"sm",cursor:"pointer",_hover:{borderColor:"gray.300"},children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(s.a,{objectFit:"cover",w:"100%",h:"150px",rounded:"0",roundedTop:"sm",src:k.d+"\\"+(null===t||void 0===t?void 0:t.thumbnail)})}),Object(j.jsxs)(i.a,{px:2,py:2,children:[Object(j.jsx)(i.d,{size:"md",isTruncated:!0,children:null===t||void 0===t?void 0:t.title}),Object(j.jsx)(i.h,{fontSize:"sm",isTruncated:!0,children:null===t||void 0===t?void 0:t.description})]}),Object(j.jsxs)(i.c,{w:"100%",p:2,justifyContent:"flex-end",borderTop:"1px solid",borderColor:"gray.100",children:[Object(j.jsx)(C.c,{onClick:c,size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"md-images",color:"brand.500"})}),Object(j.jsx)(C.c,{onClick:function(e){e.stopPropagation(),n(t)},size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:o,size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})]})},I=n(12),E=n(34),T=function(e){var t=e.open,n=e.data,o=e.onClose,r=Object(w.a)(),a=Object(m.c)(),u=Object(y.b)(!1),b=Object(l.a)(u,2),f=b[0],O=b[1],v=Object(c.useState)([]),h=Object(l.a)(v,2),p=h[0],x=h[1],S=Object(c.useState)(null),z=Object(l.a)(S,2),_=(z[0],z[1]);console.log("state:",p);var D=function(e,t,n){var c=new FileReader,o=t.target.files[0];c.onloadend=function(){p[n][e]={file:o,preview:c.result},x(Object(I.a)(p))},o&&c.readAsDataURL(o)};Object(c.useEffect)((function(){if(n&&t){var e,c=null===n||void 0===n||null===(e=n.images)||void 0===e?void 0:e.map((function(e){return e.thumbnail={file:"",preview:k.d+"\\"+e.thumbnail},e.original={file:"",preview:k.d+"\\"+e.original},e}));x(Object(I.a)(c))}}),[n,t]);var T=function(e){var t,c,i,l;O.on(),_(null);for(var s=[null===(t=p[e])||void 0===t||null===(c=t.thumbnail)||void 0===c?void 0:c.file,null===(i=p[e])||void 0===i||null===(l=i.original)||void 0===l?void 0:l.file],d=new FormData,u=0;u<s.length;u++)d.append("photos",s[u]);var j=g.c.addGalleryImage(d,null===n||void 0===n?void 0:n._id);a(j).then((function(e){O.off(),r({description:e.message,status:"success"}),o()})).catch((function(e){_(null===e||void 0===e?void 0:e.error),r({description:null===e||void 0===e?void 0:e.message,status:"error"}),O.off()}))};return Object(j.jsx)(d.b,{open:t,onClose:function(){x([]),_(null),o()},title:null===n||void 0===n?void 0:n.title,size:"md",children:Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsx)(C.a,{onClick:function(){x([].concat(Object(I.a)(p),[{thumbnail:{file:"",preview:""},original:{file:"",preview:""}}]))},size:"sm",rounded:"sm",children:"Add Image"}),null===p||void 0===p?void 0:p.map((function(e,t){var n,c;return Object(j.jsxs)(i.c,{children:[Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsx)(i.d,{size:"sm",children:"Thumbnail"}),Object(j.jsx)(E.c,{className:"center",htmlFor:"thumbnail-"+t,height:"100px",w:"100px",children:Object(j.jsx)(s.a,{maxW:"100%",maxH:"100%",objectFit:"cover",rounded:"0",src:(null===e||void 0===e||null===(n=e.thumbnail)||void 0===n?void 0:n.preview)||"https://cdn.icon-icons.com/icons2/1993/PNG/512/frame_gallery_image_images_photo_picture_pictures_icon_123209.png"})}),Object(j.jsx)(d.d,{id:"thumbnail-"+t,d:"none",type:"file",onChange:function(e){return D("thumbnail",e,t)}})]}),Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsx)(i.d,{size:"sm",children:"Image"}),Object(j.jsx)(E.c,{className:"center",htmlFor:"original-"+t,height:"100px",w:"120px",children:Object(j.jsx)(s.a,{maxW:"100%",maxH:"100%",objectFit:"cover",rounded:"0",src:(null===e||void 0===e||null===(c=e.original)||void 0===c?void 0:c.preview)||"https://cdn.icon-icons.com/icons2/1993/PNG/512/frame_gallery_image_images_photo_picture_pictures_icon_123209.png"})}),Object(j.jsx)(d.d,{id:"original-"+t,d:"none",type:"file",onChange:function(e){return D("original",e,t)}})]}),Object(j.jsx)(C.a,{isLoading:f,size:"sm",rounded:"sm",onClick:function(){T(t)},children:"Save"})]},"image-"+t)}))]})})},L=function(){Object(r.f)(),Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],s=Object(y.b)(!1),a=Object(l.a)(s,2),b=a[0],f=a[1],O=Object(c.useState)(null),v=Object(l.a)(O,2),h=v[0],S=v[1],z=Object(y.b)(!1),k=Object(l.a)(z,2),I=k[0],E=k[1],L=Object(c.useState)(null),U=Object(l.a)(L,2),q=U[0],Q=U[1],N=Object(w.a)(),R=Object(m.c)(),A=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.gallery})).gallerys;Object(c.useEffect)((function(){o.on(),R(g.c.get()).then((function(e){o.off()})).catch((function(e){console.log("Error",e),o.off()}))}),[]);var F=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Gallery?","Confirm");case 2:e.sent&&R(g.c.remove(t)).then((function(e){N({description:e.message,status:"success"})})).catch((function(e){N({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Gallery"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:f.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n&&Object(j.jsx)(d.f,{}),Object(j.jsx)(i.i,{w:"100%",px:4,py:5,children:A.length>0?Object(j.jsx)(i.e,{w:"100%",columns:4,spacing:5,children:A.map((function(e,t){return Object(j.jsx)(D,{onEdit:function(){return S(e),void f.on()},onView:function(){!function(e){Q(e),E.on()}(e)},onDelete:function(){return F(null===e||void 0===e?void 0:e._id)},data:e},t)}))}):Object(j.jsx)(d.a,{rounded:"md",colorScheme:"white",py:5,shadow:"lg",center:!0,title:"You have not created any gallery yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:f.on,children:"Create Gallery"})]})})}),Object(j.jsx)(_,{open:b,data:h,onClose:function(){S(null),f.off()}}),Object(j.jsx)(T,{open:I,data:q,onClose:function(){Q(null),E.off()}})]})},U=function(e){var t,n,r,a,u,b=e.open,f=e.data,O=e.onClose,v=Object(w.a)(),h=Object(m.c)(),p=Object(y.b)(!1),x=Object(l.a)(p,2),_=x[0],D=x[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=Object(c.useState)(null),q=Object(l.a)(U,2),Q=q[0],N=q[1],R=o.a.useRef(),A=function(e,t){L(Object(z.a)(Object(z.a)({},T),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){f&&b&&L(Object(z.a)(Object(z.a)({},f),{},{thumbnail:{file:null,preview:k.d+"\\"+(null===f||void 0===f?void 0:f.thumbnail)}}))}),[f,b]);return Object(j.jsx)(d.b,{open:b,onClose:function(){L({}),N(null),O()},title:f?"Update News or Event":"Create News or Event",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:_,size:"sm",rounded:"sm",type:"submit",form:"news-form",children:f?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"news-form",onSubmit:function(e){var t;e.preventDefault(),D.on(),N(null);var n=new FormData;n.append("title",(null===T||void 0===T?void 0:T.title)||""),n.append("date",(null===T||void 0===T?void 0:T.date)||""),n.append("description",(null===T||void 0===T?void 0:T.description)||""),n.append("detail",(null===T||void 0===T?void 0:T.detail)||""),n.append("thumbnail",(null===T||void 0===T||null===(t=T.thumbnail)||void 0===t?void 0:t.file)||(null===f||void 0===f?void 0:f.thumbnail)),f&&n.append("_id",(null===T||void 0===T?void 0:T._id)||"");var c=f?g.h.update(n):g.h.add(n);h(c).then((function(e){D.off(),v({description:e.message,status:"success"}),O()})).catch((function(e){N(null===e||void 0===e?void 0:e.error),v({description:null===e||void 0===e?void 0:e.message,status:"error"}),D.off()}))},children:[Object(j.jsx)(s.a,{objectFit:"cover",boxSize:"150px",rounded:"0",src:(null===T||void 0===T||null===(t=T.thumbnail)||void 0===t?void 0:t.preview)||"https://cdn.icon-icons.com/icons2/1993/PNG/512/frame_gallery_image_images_photo_picture_pictures_icon_123209.png",onClick:function(e){R.current.click()}}),Object(j.jsx)(d.d,{d:"none",type:"file",ref:R,onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){L(Object(z.a)(Object(z.a)({},T),{},Object(S.a)({},e,{file:c,preview:n.result})))},c&&n.readAsDataURL(c)}("thumbnail",e)}}),Object(j.jsxs)(i.c,{my:"20px",children:[Object(j.jsx)(d.d,{error:null===Q||void 0===Q||null===(n=Q.title)||void 0===n?void 0:n.message,label:"Title",value:(null===T||void 0===T?void 0:T.title)||"",onChange:function(e){return A("title",e.target.value)}}),Object(j.jsx)(d.d,{date:!0,error:null===Q||void 0===Q||null===(r=Q.date)||void 0===r?void 0:r.message,label:"Date",value:(null===T||void 0===T?void 0:T.date)||"",onChange:function(e){return A("date",e.target.value)}})]}),Object(j.jsx)(i.c,{my:"20px",children:Object(j.jsx)(d.d,{textarea:!0,error:null===Q||void 0===Q||null===(a=Q.description)||void 0===a?void 0:a.message,label:"Description",value:(null===T||void 0===T?void 0:T.description)||"",onChange:function(e){return A("description",e.target.value)}})}),Object(j.jsx)(i.c,{children:Object(j.jsx)(d.l,{error:null===Q||void 0===Q||null===(u=Q.detail)||void 0===u?void 0:u.message,label:"News or Event Detail",value:(null===T||void 0===T?void 0:T.detail)||"",onChange:function(e){return A("detail",e)}})})]})})},q=function(e){var t=e.data,n=e.onEdit,c=e.onDelete,o=e.active,r=function(){var e=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Slide?","Confirm");case 2:e.sent&&c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.a,{bg:"white",border:"2px solid",borderColor:o?"brand.500":"transparent",rounded:"sm",cursor:"pointer",_hover:{borderColor:"gray.300"},children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(s.a,{objectFit:"cover",w:"100%",h:"150px",rounded:"0",roundedTop:"sm",src:k.d+"\\"+(null===t||void 0===t?void 0:t.thumbnail)})}),Object(j.jsxs)(i.a,{px:2,py:2,children:[Object(j.jsx)(i.d,{size:"md",isTruncated:!0,children:null===t||void 0===t?void 0:t.title}),Object(j.jsx)(i.h,{fontSize:"sm",isTruncated:!0,children:null===t||void 0===t?void 0:t.description})]}),Object(j.jsxs)(i.c,{w:"100%",p:2,justifyContent:"flex-end",borderTop:"1px solid",borderColor:"gray.100",children:[Object(j.jsx)(C.c,{onClick:function(e){e.stopPropagation(),n(t)},size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:r,size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})]})},Q=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.newses})).newses;Object(c.useEffect)((function(){o.on(),z(g.h.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(g.h.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"News & Events"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n&&Object(j.jsx)(d.f,{}),Object(j.jsx)(i.i,{w:"100%",px:4,py:5,children:k.length>0?Object(j.jsx)(i.e,{columns:4,spacing:5,w:"100%",children:k.map((function(e,t){return Object(j.jsx)(q,{onEdit:function(){return h(e),void b.on()},onDelete:function(){return _(e._id)},data:e},t)}))}):Object(j.jsx)(d.a,{rounded:"md",colorScheme:"white",py:5,shadow:"lg",center:!0,title:"You have not created any News & Event yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"Create News or Event"})]})})}),Object(j.jsx)(U,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},N=n(149),R=function(e){var t,n,r,s,a,u,b=e.open,f=e.data,O=e.onClose,v=Object(w.a)(),h=Object(m.c)(),p=Object(y.b)(!1),x=Object(l.a)(p,2),k=x[0],_=x[1],D=Object(c.useState)({status:"Open"}),I=Object(l.a)(D,2),E=I[0],T=I[1],L=Object(c.useState)(null),U=Object(l.a)(L,2),q=U[0],Q=U[1],N=o.a.useRef(),R=function(e,t){T(Object(z.a)(Object(z.a)({},E),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){f&&b&&T(Object(z.a)(Object(z.a)({},f),{},{file:{file:null,preview:null===f||void 0===f?void 0:f.file}}))}),[f,b]);return Object(j.jsx)(d.b,{open:b,onClose:function(){T({}),Q(null),O()},title:f?"Update Tender":"Upload Tender",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:k,size:"sm",rounded:"sm",type:"submit",form:"tender-form",children:f?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"tender-form",onSubmit:function(e){var t;e.preventDefault(),_.on(),Q(null);var n=new FormData;n.append("title",(null===E||void 0===E?void 0:E.title)||""),n.append("release",(null===E||void 0===E?void 0:E.release)||""),n.append("closing",(null===E||void 0===E?void 0:E.closing)||""),n.append("status",(null===E||void 0===E?void 0:E.status)||""),n.append("file",(null===E||void 0===E||null===(t=E.file)||void 0===t?void 0:t.file)||(null===f||void 0===f?void 0:f.file)),f&&n.append("_id",(null===E||void 0===E?void 0:E._id)||"");var c=f?g.o.update(n):g.o.add(n);h(c).then((function(e){_.off(),v({description:e.message,status:"success"}),O()})).catch((function(e){Q(null===e||void 0===e?void 0:e.error),v({description:null===e||void 0===e?void 0:e.message,status:"error"}),_.off()}))},children:[Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===q||void 0===q||null===(t=q.title)||void 0===t?void 0:t.message,label:"Title",value:(null===E||void 0===E?void 0:E.title)||"",onChange:function(e){return R("title",e.target.value)}})}),Object(j.jsxs)(i.c,{my:"20px",children:[Object(j.jsx)(d.d,{date:!0,error:null===q||void 0===q||null===(n=q.release)||void 0===n?void 0:n.message,label:"Release Date",value:(null===E||void 0===E?void 0:E.release)||"",onChange:function(e){return R("release",e.target.value)}}),Object(j.jsx)(d.d,{date:!0,error:null===q||void 0===q||null===(r=q.closing)||void 0===r?void 0:r.message,label:"Closing Date",value:(null===E||void 0===E?void 0:E.closing)||"",onChange:function(e){return R("closing",e.target.value)}})]}),Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsxs)(d.i,{error:null===q||void 0===q||null===(s=q.status)||void 0===s?void 0:s.message,label:"Status",value:(null===E||void 0===E?void 0:E.status)||"",onChange:function(e){return R("status",e.target.value)},children:[Object(j.jsx)("option",{value:"Open",children:"Open"}),Object(j.jsx)("option",{value:"Close",children:"Close"})]})}),Object(j.jsx)(i.a,{children:Object(j.jsx)(d.d,{d:"none",file:!0,label:"Upload PDF",error:null===q||void 0===q||null===(a=q.file)||void 0===a?void 0:a.message,fileName:(null===E||void 0===E||null===(u=E.file)||void 0===u?void 0:u.preview)||"",ref:N,onClick:function(){N.current.click()},onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){T(Object(z.a)(Object(z.a)({},E),{},Object(S.a)({},e,{file:c,preview:null===c||void 0===c?void 0:c.name})))},c&&n.readAsDataURL(c)}("file",e)}})})]})})},A=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.tenders})).tenders;Object(c.useEffect)((function(){o.on(),z(g.o.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Tender?","Confirm");case 2:e.sent&&z(g.o.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Tenders"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",fontSize:"sm",size:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Title"}),Object(j.jsx)(N.d,{children:"Release"}),Object(j.jsx)(N.d,{children:"Closing"}),Object(j.jsx)(N.d,{children:"Status"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.release}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.closing}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.status}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"tender-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not Upload Any Tender Yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Tender"})]})})}),Object(j.jsx)(R,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},F=function(e){var t,n,o,r,s,a,u=e.open,b=e.data,f=e.onClose,O=Object(w.a)(),v=Object(m.c)(),h=Object(y.b)(!1),p=Object(l.a)(h,2),x=p[0],k=p[1],_=Object(c.useState)({status:"Open"}),D=Object(l.a)(_,2),I=D[0],E=D[1],T=Object(c.useState)(null),L=Object(l.a)(T,2),U=L[0],q=L[1],Q=function(e,t){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){b&&u&&E(Object(z.a)({},b))}),[b,u]);return Object(j.jsx)(d.b,{open:u,onClose:function(){E({}),q(null),f()},title:b?"Update Job":"Upload Job",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:x,size:"sm",rounded:"sm",type:"submit",form:"job-form",children:b?"Update":"Upload"})})}),children:Object(j.jsxs)("form",{id:"job-form",onSubmit:function(e){e.preventDefault(),k.on(),q(null);var t=b?g.e.update(I):g.e.add(I);v(t).then((function(e){k.off(),O({description:e.message,status:"success"}),f()})).catch((function(e){q(null===e||void 0===e?void 0:e.error),O({description:null===e||void 0===e?void 0:e.message,status:"error"}),k.off()}))},children:[Object(j.jsxs)(i.c,{my:"20px",children:[Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(t=U.position)||void 0===t?void 0:t.message,label:"Position",value:(null===I||void 0===I?void 0:I.position)||"",onChange:function(e){return Q("position",e.target.value)}}),Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(n=U.department)||void 0===n?void 0:n.message,label:"Department",value:(null===I||void 0===I?void 0:I.department)||"",onChange:function(e){return Q("department",e.target.value)}})]}),Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.l,{error:null===U||void 0===U||null===(o=U.detail)||void 0===o?void 0:o.message,label:"Qualification & Experience",value:(null===I||void 0===I?void 0:I.detail)||"",onChange:function(e){return Q("detail",e)}})}),Object(j.jsxs)(i.c,{my:"20px",children:[Object(j.jsx)(d.d,{date:!0,error:null===U||void 0===U||null===(r=U.release)||void 0===r?void 0:r.message,label:"Release Date",value:(null===I||void 0===I?void 0:I.release)||"",onChange:function(e){return Q("release",e.target.value)}}),Object(j.jsx)(d.d,{date:!0,error:null===U||void 0===U||null===(s=U.closing)||void 0===s?void 0:s.message,label:"Closing Date",value:(null===I||void 0===I?void 0:I.closing)||"",onChange:function(e){return Q("closing",e.target.value)}})]}),Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsxs)(d.i,{error:null===U||void 0===U||null===(a=U.status)||void 0===a?void 0:a.message,label:"Status",value:(null===I||void 0===I?void 0:I.status)||"",onChange:function(e){return Q("status",e.target.value)},children:[Object(j.jsx)("option",{value:"Open",children:"Open"}),Object(j.jsx)("option",{value:"Close",children:"Close"})]})})]})})},Y=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.jobs})).jobs;Object(c.useEffect)((function(){o.on(),z(g.e.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Tender?","Confirm");case 2:e.sent&&z(g.e.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Jobs"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Position"}),Object(j.jsx)(N.d,{children:"Department"}),Object(j.jsx)(N.d,{children:"Qualification & Experience"}),Object(j.jsx)(N.d,{children:"Release"}),Object(j.jsx)(N.d,{children:"Closing"}),Object(j.jsx)(N.d,{children:"Status"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.position}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.department}),Object(j.jsx)(N.c,{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.detail}}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.release}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.closing}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.status}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"job-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not Upload Any Job Yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Job"})]})})}),Object(j.jsx)(F,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},P=function(e){var t,n,r,s=e.open,a=e.data,u=e.onClose,b=Object(w.a)(),f=Object(m.c)(),O=Object(y.b)(!1),v=Object(l.a)(O,2),h=v[0],p=v[1],x=Object(c.useState)(null),k=Object(l.a)(x,2),_=k[0],D=k[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=o.a.useRef();Object(c.useEffect)((function(){a&&s&&D(Object(z.a)(Object(z.a)({},a),{},{file:{file:null,preview:null===a||void 0===a?void 0:a.file}}))}),[a,s]);return Object(j.jsx)(d.b,{open:s,onClose:function(){D({}),L(null),u()},size:"md",title:a?"Update Downloadable Material":"Upload Downloadable Material",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:h,size:"sm",rounded:"sm",type:"submit",form:"download-form",children:a?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"download-form",onSubmit:function(e){var t;e.preventDefault(),p.on(),L(null);var n=new FormData;n.append("title",(null===_||void 0===_?void 0:_.title)||""),n.append("file",(null===_||void 0===_||null===(t=_.file)||void 0===t?void 0:t.file)||(null===a||void 0===a?void 0:a.file)),a&&n.append("_id",(null===_||void 0===_?void 0:_._id)||"");var c=a?g.b.update(n):g.b.add(n);f(c).then((function(e){p.off(),b({description:e.message,status:"success"}),u()})).catch((function(e){L(null===e||void 0===e?void 0:e.error),b({description:null===e||void 0===e?void 0:e.message,status:"error"}),p.off()}))},children:[Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(t=T.title)||void 0===t?void 0:t.message,label:"Title",value:(null===_||void 0===_?void 0:_.title)||"",onChange:function(e){return t="title",n=e.target.value,void D(Object(z.a)(Object(z.a)({},_),{},Object(S.a)({},t,n)));var t,n}})}),Object(j.jsx)(i.a,{children:Object(j.jsx)(d.d,{d:"none",file:!0,label:"Upload PDF",error:null===T||void 0===T||null===(n=T.file)||void 0===n?void 0:n.message,fileName:(null===_||void 0===_||null===(r=_.file)||void 0===r?void 0:r.preview)||"",ref:U,onClick:function(){U.current.click()},onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){D(Object(z.a)(Object(z.a)({},_),{},Object(S.a)({},e,{file:c,preview:null===c||void 0===c?void 0:c.name})))},c&&n.readAsDataURL(c)}("file",e)}})})]})})},W=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.downloads})).downloads;Object(c.useEffect)((function(){o.on(),z(g.b.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Material?","Confirm");case 2:e.sent&&z(g.b.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Downloads"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Title"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"download-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not Upload Any Material Yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Material"})]})})}),Object(j.jsx)(P,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},H=function(e){var t,n,o=e.open,r=e.data,s=e.onClose,a=Object(w.a)(),u=Object(m.c)(),b=Object(y.b)(!1),f=Object(l.a)(b,2),O=f[0],v=f[1],h=Object(c.useState)({status:"Open"}),p=Object(l.a)(h,2),x=p[0],k=p[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=function(e,t){k(Object(z.a)(Object(z.a)({},x),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){r&&o&&k(Object(z.a)({},r))}),[r,o]);return Object(j.jsx)(d.b,{open:o,onClose:function(){k({}),E(null),s()},title:r?"Update Link":"Upload Link",size:"md",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:O,size:"sm",rounded:"sm",type:"submit",form:"link-form",children:r?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"link-form",onSubmit:function(e){e.preventDefault(),v.on(),E(null);var t=r?g.f.update(x):g.f.add(x);u(t).then((function(e){v.off(),a({description:e.message,status:"success"}),s()})).catch((function(e){E(null===e||void 0===e?void 0:e.error),a({description:null===e||void 0===e?void 0:e.message,status:"error"}),v.off()}))},children:[Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===I||void 0===I||null===(t=I.title)||void 0===t?void 0:t.message,label:"Title",value:(null===x||void 0===x?void 0:x.title)||"",onChange:function(e){return T("title",e.target.value)}})}),Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===I||void 0===I||null===(n=I.link)||void 0===n?void 0:n.message,label:"Useful Link",leftLabel:"http://www.",value:(null===x||void 0===x?void 0:x.link)||"",onChange:function(e){return T("link",e.target.value)}})})]})})},G=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.links})).links;Object(c.useEffect)((function(){o.on(),z(g.f.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Tender?","Confirm");case 2:e.sent&&z(g.f.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Useful Links"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Title"}),Object(j.jsx)(N.d,{children:"Link"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.link}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"link-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not Upload Any useful link Yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Link"})]})})}),Object(j.jsx)(H,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},M=function(e){var t,n,o=e.open,r=e.data,s=e.onClose,a=Object(w.a)(),u=Object(m.c)(),b=Object(y.b)(!1),f=Object(l.a)(b,2),O=f[0],v=f[1],h=Object(c.useState)(null),p=Object(l.a)(h,2),x=p[0],k=p[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=function(e,t){k(Object(z.a)(Object(z.a)({},x),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){r&&o&&k(Object(z.a)({},r))}),[r,o]);return Object(j.jsx)(d.b,{open:o,onClose:function(){k({}),E(null),s()},title:r?"Update Headline":"Add New headline",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:O,size:"sm",rounded:"sm",type:"submit",form:"headline-form",children:r?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"headline-form",onSubmit:function(e){e.preventDefault(),v.on(),E(null);var t=r?g.d.update(x):g.d.add(x);u(t).then((function(e){v.off(),a({description:e.message,status:"success"}),s()})).catch((function(e){E(null===e||void 0===e?void 0:e.error),a({description:null===e||void 0===e?void 0:e.message,status:"error"}),v.off()}))},children:[Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===I||void 0===I||null===(t=I.title)||void 0===t?void 0:t.message,label:"Title",value:(null===x||void 0===x?void 0:x.title)||"",onChange:function(e){return T("title",e.target.value)}})}),Object(j.jsx)(i.c,{children:Object(j.jsx)(d.l,{error:null===I||void 0===I||null===(n=I.detail)||void 0===n?void 0:n.message,label:"Detail",value:(null===x||void 0===x?void 0:x.detail)||"",onChange:function(e){return T("detail",e)}})})]})})},V=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.headlines})).headlines;Object(c.useEffect)((function(){o.on(),z(g.d.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Headline?","Confirm");case 2:e.sent&&z(g.d.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Headlines"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Title"}),Object(j.jsx)(N.d,{children:"Detail"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)(N.c,{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.detail}}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"headline-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not Upload Any Headlines Yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Headline"})]})})}),Object(j.jsx)(M,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},B=function(e){var t,n,r,a=e.open,u=e.data,b=e.onClose,f=Object(w.a)(),O=Object(m.c)(),v=Object(y.b)(!1),h=Object(l.a)(v,2),p=h[0],x=h[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=Object(c.useState)(null),L=Object(l.a)(T,2),U=L[0],q=L[1],Q=o.a.useRef(),N=function(e,t){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){u&&a&&E(Object(z.a)(Object(z.a)({},u),{},{image:{file:null,preview:k.d+"\\"+(null===u||void 0===u?void 0:u.image)}}))}),[u,a]);return Object(j.jsx)(d.b,{open:a,onClose:function(){E({}),q(null),b()},title:u?"Update Slide":"Create Slide",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:p,size:"sm",rounded:"sm",type:"submit",form:"slider-form",children:u?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"slider-form",onSubmit:function(e){var t;e.preventDefault(),x.on(),q(null);var n=new FormData;n.append("title",(null===I||void 0===I?void 0:I.title)||""),n.append("description",(null===I||void 0===I?void 0:I.description)||""),n.append("image",(null===I||void 0===I||null===(t=I.image)||void 0===t?void 0:t.file)||(null===u||void 0===u?void 0:u.image)),u&&n.append("_id",(null===I||void 0===I?void 0:I._id)||"");var c=u?g.k.update(n):g.k.add(n);O(c).then((function(e){x.off(),f({description:e.message,status:"success"}),b()})).catch((function(e){q(null===e||void 0===e?void 0:e.error),f({description:null===e||void 0===e?void 0:e.message,status:"error"}),x.off()}))},children:[Object(j.jsx)(s.a,{objectFit:"cover",boxSize:"150px",rounded:"0",src:(null===I||void 0===I||null===(t=I.image)||void 0===t?void 0:t.preview)||"https://cdn.icon-icons.com/icons2/1993/PNG/512/frame_gallery_image_images_photo_picture_pictures_icon_123209.png",onClick:function(e){Q.current.click()}}),Object(j.jsx)(d.d,{d:"none",type:"file",ref:Q,onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,{file:c,preview:n.result})))},c&&n.readAsDataURL(c)}("image",e)}}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(n=U.title)||void 0===n?void 0:n.message,label:"Title",value:(null===I||void 0===I?void 0:I.title)||"",onChange:function(e){return N("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===U||void 0===U||null===(r=U.description)||void 0===r?void 0:r.message,label:"Description",value:(null===I||void 0===I?void 0:I.description)||"",onChange:function(e){return N("description",e.target.value)}})})]})})},J=function(e){var t=e.data,n=e.onEdit,c=e.onDelete,o=e.active,r=function(){var e=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Slide?","Confirm");case 2:e.sent&&c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.a,{bg:"white",border:"2px solid",borderColor:o?"brand.500":"transparent",rounded:"sm",cursor:"pointer",_hover:{borderColor:"gray.300"},children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(s.a,{objectFit:"cover",w:"100%",h:"150px",rounded:"0",roundedTop:"sm",src:k.d+"\\"+(null===t||void 0===t?void 0:t.image)})}),Object(j.jsxs)(i.a,{px:2,py:2,children:[Object(j.jsx)(i.d,{size:"md",isTruncated:!0,children:null===t||void 0===t?void 0:t.title}),Object(j.jsx)(i.h,{fontSize:"sm",isTruncated:!0,children:null===t||void 0===t?void 0:t.description})]}),Object(j.jsxs)(i.c,{w:"100%",p:2,justifyContent:"flex-end",borderTop:"1px solid",borderColor:"gray.100",children:[Object(j.jsx)(C.c,{onClick:function(e){e.stopPropagation(),n(t)},size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:r,size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})]})},X=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.slider})).slider;Object(c.useEffect)((function(){o.on(),z(g.k.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(g.k.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Home Slider"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n&&Object(j.jsx)(d.f,{}),Object(j.jsx)(i.i,{w:"100%",px:4,py:5,children:k.length>0?Object(j.jsx)(i.e,{columns:4,spacing:5,children:k.map((function(e,t){return Object(j.jsx)(J,{onEdit:function(){return function(e){h(e),b.on()}(e)},onDelete:function(){return _(e._id)},data:e},t)}))}):Object(j.jsx)(d.a,{rounded:"md",colorScheme:"white",py:5,shadow:"lg",center:!0,title:"You have not created any Image Slide",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"Create Slide"})]})})}),Object(j.jsx)(B,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},K=function(e){var t,n,r,a=e.open,u=e.data,b=e.onClose,f=Object(w.a)(),O=Object(m.c)(),v=Object(y.b)(!1),h=Object(l.a)(v,2),p=h[0],x=h[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=Object(c.useState)(null),L=Object(l.a)(T,2),U=L[0],q=L[1],Q=o.a.useRef(),N=function(e,t){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){u&&a&&E(Object(z.a)(Object(z.a)({},u),{},{thumbnail:{file:null,preview:k.d+"\\"+(null===u||void 0===u?void 0:u.thumbnail)}}))}),[u,a]);return Object(j.jsx)(d.b,{open:a,onClose:function(){E({}),q(null),b()},title:u?"Update Video":"Upload Video",size:"md",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:p,size:"sm",rounded:"sm",type:"submit",form:"video-form",children:u?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"video-form",onSubmit:function(e){var t;e.preventDefault(),x.on(),q(null);var n=new FormData;n.append("title",(null===I||void 0===I?void 0:I.title)||""),n.append("link",(null===I||void 0===I?void 0:I.link)||""),n.append("thumbnail",(null===I||void 0===I||null===(t=I.thumbnail)||void 0===t?void 0:t.file)||(null===u||void 0===u?void 0:u.thumbnail)),u&&n.append("_id",(null===I||void 0===I?void 0:I._id)||"");var c=u?g.q.update(n):g.q.add(n);O(c).then((function(e){x.off(),f({description:e.message,status:"success"}),b()})).catch((function(e){q(null===e||void 0===e?void 0:e.error),f({description:null===e||void 0===e?void 0:e.message,status:"error"}),x.off()}))},children:[Object(j.jsx)(s.a,{objectFit:"cover",boxSize:"150px",rounded:"0",src:(null===I||void 0===I||null===(t=I.thumbnail)||void 0===t?void 0:t.preview)||"https://cdn.icon-icons.com/icons2/1993/PNG/512/frame_gallery_image_images_photo_picture_pictures_icon_123209.png",onClick:function(e){Q.current.click()}}),Object(j.jsx)(d.d,{d:"none",type:"file",ref:Q,onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,{file:c,preview:n.result})))},c&&n.readAsDataURL(c)}("thumbnail",e)}}),Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(n=U.title)||void 0===n?void 0:n.message,label:"Title",value:(null===I||void 0===I?void 0:I.title)||"",onChange:function(e){return N("title",e.target.value)}})}),Object(j.jsx)(i.a,{children:Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(r=U.link)||void 0===r?void 0:r.message,label:"Link",leftLabel:"youtube.com/watch?v=",value:(null===I||void 0===I?void 0:I.link)||"",onChange:function(e){return N("link",e.target.value)}})})]})})},Z=function(e){var t=e.data,n=e.onEdit,c=e.onDelete,o=e.active,r=function(){var e=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Video?","Confirm");case 2:e.sent&&c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.a,{bg:"white",border:"2px solid",borderColor:o?"brand.500":"transparent",rounded:"sm",cursor:"pointer",_hover:{borderColor:"gray.300"},children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(s.a,{objectFit:"cover",w:"100%",h:"150px",rounded:"0",roundedTop:"sm",src:k.d+"\\"+(null===t||void 0===t?void 0:t.thumbnail)})}),Object(j.jsx)(i.a,{px:2,py:2,children:Object(j.jsx)(i.d,{size:"md",isTruncated:!0,children:null===t||void 0===t?void 0:t.title})}),Object(j.jsxs)(i.c,{w:"100%",p:2,justifyContent:"flex-end",borderTop:"1px solid",borderColor:"gray.100",children:[Object(j.jsx)(C.c,{onClick:function(e){e.stopPropagation(),n(t)},size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:r,size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})]})},$=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.videos})).videos;Object(c.useEffect)((function(){o.on(),z(g.q.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z(g.q.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Videos"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n&&Object(j.jsx)(d.f,{}),Object(j.jsx)(i.i,{w:"100%",px:4,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsx)(i.e,{columns:4,spacing:5,w:"100%",children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsx)(Z,{onEdit:function(){return h(e),void b.on()},onDelete:function(){return _(e._id)},data:e},t)}))}):Object(j.jsx)(d.a,{rounded:"md",colorScheme:"white",py:5,shadow:"lg",center:!0,title:"You have not uploaded any Video",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"Upload Video"})]})})}),Object(j.jsx)(K,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},ee=function(e){var t,n,r,s=e.open,a=e.data,u=e.onClose,b=Object(w.a)(),f=Object(m.c)(),O=Object(y.b)(!1),v=Object(l.a)(O,2),h=v[0],p=v[1],x=Object(c.useState)(null),k=Object(l.a)(x,2),_=k[0],D=k[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=o.a.useRef();Object(c.useEffect)((function(){a&&s&&D(Object(z.a)(Object(z.a)({},a),{},{kmz:{file:null,preview:null===a||void 0===a?void 0:a.kmz}}))}),[a,s]);return Object(j.jsx)(d.b,{open:s,onClose:function(){D({}),L(null),u()},size:"md",title:a?"Update Location":"Save Location",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:h,size:"sm",rounded:"sm",type:"submit",form:"form",children:a?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"form",onSubmit:function(e){var t;e.preventDefault(),p.on(),L(null);var n=new FormData;n.append("title",(null===_||void 0===_?void 0:_.title)||""),n.append("kmz",(null===_||void 0===_||null===(t=_.kmz)||void 0===t?void 0:t.file)||(null===a||void 0===a?void 0:a.kmz)),a&&n.append("_id",(null===_||void 0===_?void 0:_._id)||"");var c=a?g.g.update(n):g.g.add(n);f(c).then((function(e){p.off(),b({description:e.message,status:"success"}),u()})).catch((function(e){L(null===e||void 0===e?void 0:e.error),b({description:null===e||void 0===e?void 0:e.message,status:"error"}),p.off()}))},children:[Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(t=T.title)||void 0===t?void 0:t.message,label:"Title",value:(null===_||void 0===_?void 0:_.title)||"",onChange:function(e){return t="title",n=e.target.value,void D(Object(z.a)(Object(z.a)({},_),{},Object(S.a)({},t,n)));var t,n}})}),Object(j.jsx)(i.a,{children:Object(j.jsx)(d.d,{d:"none",file:!0,label:"Upload (.kmz) ",error:null===T||void 0===T||null===(n=T.kmz)||void 0===n?void 0:n.message,fileName:(null===_||void 0===_||null===(r=_.kmz)||void 0===r?void 0:r.preview)||"",ref:U,onClick:function(){U.current.click()},onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){D(Object(z.a)(Object(z.a)({},_),{},Object(S.a)({},e,{file:c,preview:null===c||void 0===c?void 0:c.name})))},c&&n.readAsDataURL(c)}("kmz",e)}})})]})})},te=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.locations})).locations;Object(c.useEffect)((function(){o.on(),z(g.g.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Location?","Confirm");case 2:e.sent&&z(g.g.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Locations(.kmz)"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Title"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"location-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not Upload Any Location Yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Location"})]})})}),Object(j.jsx)(ee,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},ne=function(e){var t,n,o,r,s=e.open,a=e.data,u=e.onClose,b=Object(w.a)(),f=Object(m.c)(),O=Object(y.b)(!1),v=Object(l.a)(O,2),h=v[0],p=v[1],x=Object(c.useState)({status:"Open"}),k=Object(l.a)(x,2),_=k[0],D=k[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=function(e,t){D(Object(z.a)(Object(z.a)({},_),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){a&&s&&D(Object(z.a)({},a))}),[a,s]);return Object(j.jsx)(d.b,{open:s,onClose:function(){D({}),L(null),u()},title:a?"Update":"Upload ",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:h,size:"sm",rounded:"sm",type:"submit",form:"form",children:a?"Update":"Upload"})})}),children:Object(j.jsxs)("form",{id:"form",onSubmit:function(e){e.preventDefault(),p.on(),L(null);var t=a?g.n.update(_):g.n.add(_);f(t).then((function(e){p.off(),b({description:e.message,status:"success"}),u()})).catch((function(e){L(null===e||void 0===e?void 0:e.error),b({description:null===e||void 0===e?void 0:e.message,status:"error"}),p.off()}))},children:[Object(j.jsxs)(i.c,{my:"20px",children:[Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(t=T.name)||void 0===t?void 0:t.message,label:"Name",value:(null===_||void 0===_?void 0:_.name)||"",onChange:function(e){return U("name",e.target.value)}}),Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(n=T.designation)||void 0===n?void 0:n.message,label:"Designation",value:(null===_||void 0===_?void 0:_.designation)||"",onChange:function(e){return U("designation",e.target.value)}})]}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(d.d,{type:"email",error:null===T||void 0===T||null===(o=T.email)||void 0===o?void 0:o.message,label:"Email",value:(null===_||void 0===_?void 0:_.email)||"",onChange:function(e){return U("email",e.target.value)}}),Object(j.jsx)(d.d,{type:"number",error:null===T||void 0===T||null===(r=T.phone)||void 0===r?void 0:r.message,label:"Phone",value:(null===_||void 0===_?void 0:_.phone)||"",onChange:function(e){return U("phone",e.target.value)}})]})]})})},ce=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.team})).team;Object(c.useEffect)((function(){o.on(),z(g.n.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Team Member?","Confirm");case 2:e.sent&&z(g.n.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Core Team"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Name"}),Object(j.jsx)(N.d,{children:"Designation"}),Object(j.jsx)(N.d,{children:"Email"}),Object(j.jsx)(N.d,{children:"Phone"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.name}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.designation}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.email}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.phone}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"member-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not uploaded any team mate data yet.",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"Upload Team Mate"})]})})}),Object(j.jsx)(ne,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},oe=function(e){var t,n,o=e.open,r=e.data,s=e.onClose,a=Object(w.a)(),u=Object(m.c)(),b=Object(y.b)(!1),f=Object(l.a)(b,2),O=f[0],v=f[1],h=Object(c.useState)({link:"http://www.uaf.edu.pk/"}),p=Object(l.a)(h,2),x=p[0],k=p[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=function(e,t){k(Object(z.a)(Object(z.a)({},x),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){r&&o&&k(Object(z.a)({},r))}),[r,o]);return Object(j.jsx)(d.b,{open:o,onClose:function(){k({}),E(null),s()},title:r?"Update Link":"Upload Link",size:"md",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:O,size:"sm",rounded:"sm",type:"submit",form:"form",children:r?"Update":"Save"})})}),children:Object(j.jsxs)("form",{id:"form",onSubmit:function(e){e.preventDefault(),v.on(),E(null);var t=r?g.l.update(x):g.l.add(x);u(t).then((function(e){v.off(),a({description:e.message,status:"success"}),s()})).catch((function(e){E(null===e||void 0===e?void 0:e.error),a({description:null===e||void 0===e?void 0:e.message,status:"error"}),v.off()}))},children:[Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===I||void 0===I||null===(t=I.title)||void 0===t?void 0:t.message,label:"Title",value:(null===x||void 0===x?void 0:x.title)||"",onChange:function(e){return T("title",e.target.value)}})}),Object(j.jsx)(i.a,{my:"20px",children:Object(j.jsx)(d.d,{error:null===I||void 0===I||null===(n=I.link)||void 0===n?void 0:n.message,label:"Useful Link",value:(null===x||void 0===x?void 0:x.link)||"",onChange:function(e){return T("link",e.target.value)}})})]})})},ie=function(){Object(u.b)();var e=Object(y.b)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(y.b)(!1),s=Object(l.a)(r,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(w.a)(),z=Object(m.c)(),k=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.socialLinks})).socialLinks;Object(c.useEffect)((function(){o.on(),z(g.l.get()).then((function(){o.off()})).catch((function(e){o.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Link?","Confirm");case 2:e.sent&&z(g.l.remove(t)).then((function(e){S({description:e.message,status:"success"})})).catch((function(e){S({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.i,{w:"100%",h:"100vh",overflowY:"auto",spacing:0,children:[Object(j.jsxs)(i.c,{w:"100%",px:5,py:3,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(i.d,{size:"md",m:0,children:"Social Links"}),Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:b.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),n?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.i,{w:"100%",px:5,py:5,children:(null===k||void 0===k?void 0:k.length)>0?Object(j.jsxs)(N.a,{bg:"white",size:"sm",fontSize:"sm",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{children:"#"}),Object(j.jsx)(N.d,{children:"Title"}),Object(j.jsx)(N.d,{children:"Link"}),Object(j.jsx)(N.d,{children:"Operation"})]})}),Object(j.jsx)(N.b,{children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.c,{children:t+1}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.title}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.link}),Object(j.jsx)(N.c,{children:Object(j.jsxs)(C.b,{size:"xs",rounded:"full",colorScheme:"gray",children:[Object(j.jsx)(C.c,{onClick:function(){h(e),b.on()},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:function(){_(null===e||void 0===e?void 0:e._id)},icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})})]},"link-"+t)}))})]}):Object(j.jsx)(d.a,{rounded:"sm",colorScheme:"white",py:4,shadow:"sm",center:!0,title:"You have not upload any social link yet",children:Object(j.jsxs)(i.i,{textAlign:"center",spacing:5,children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",rounded:"sm",onClick:b.on,children:"upload Link"})]})})}),Object(j.jsx)(oe,{open:a,data:v,onClose:function(){h(null),b.off()}})]})},re=n(150),le=n(82),se=n(303),ae=n.n(se),de=function(e){var t,n,o,r,s,a,u,b=e.open,f=e.data,O=e.onClose,v=Object(m.c)(),h=Object(w.a)(),p=Object(m.d)((function(e){return e.roles})).roles,x=Object(y.b)(!1),k=Object(l.a)(x,2),_=k[0],D=k[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=Object(c.useState)({}),q=Object(l.a)(U,2),Q=q[0],N=q[1];Object(c.useEffect)((function(){v(g.j.get())}),[b]),Object(c.useEffect)((function(){if(f&&b){var e=[];null===f||void 0===f||f.roles.map((function(t){return e.push(null===t||void 0===t?void 0:t._id)})),N(Object(z.a)(Object(z.a)({},f),{},{roles:e}))}}),[f,b]);var R=function(e,t){N(Object(z.a)(Object(z.a)({},Q),{},Object(S.a)({},e,t)))},A=function(){N({}),L(null),O()};return Object(j.jsx)(d.b,{open:b,onClose:A,title:f?"Update User":"Create New User",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:_,type:"submit",form:"user-form",children:"Submit"})})}),children:Object(j.jsxs)("form",{id:"user-form",onSubmit:function(e){e.preventDefault(),D.on();var t=f?g.p.update(Q):g.p.add(Q);v(t).then((function(e){D.off(),h({description:e.message,status:"success"}),A()})).catch((function(e){L(null===e||void 0===e?void 0:e.error),h({description:null===e||void 0===e?void 0:e.message,status:"error"}),D.off()}))},children:[Object(j.jsxs)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:[Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(t=T.first_name)||void 0===t?void 0:t.message,label:"First Name",value:(null===Q||void 0===Q?void 0:Q.first_name)||"",onChange:function(e){return R("first_name",e.target.value)}}),Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(n=T.last_name)||void 0===n?void 0:n.message,label:"Last Name",value:(null===Q||void 0===Q?void 0:Q.last_name)||"",onChange:function(e){return R("last_name",e.target.value)}})]}),Object(j.jsxs)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:[Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(o=T.email)||void 0===o?void 0:o.message,label:"Email",value:(null===Q||void 0===Q?void 0:Q.email)||"",onChange:function(e){return R("email",e.target.value)}}),Object(j.jsx)(d.d,{error:null===T||void 0===T||null===(r=T.phone)||void 0===r?void 0:r.message,label:"Phone Number",value:(null===Q||void 0===Q?void 0:Q.phone)||"",onChange:function(e){return R("phone",e.target.value)}})]}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{as:ae.a,mask:"99999-9999999-9",maskChar:"0",error:null===T||void 0===T||null===(s=T.cnic)||void 0===s?void 0:s.message,label:"CNIC",value:(null===Q||void 0===Q?void 0:Q.cnic)||"",onChange:function(e){return R("cnic",e.target.value)}})}),Object(j.jsxs)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:[Object(j.jsx)(d.d,{type:"password",error:null===T||void 0===T||null===(a=T.password)||void 0===a?void 0:a.message,label:"Password",value:(null===Q||void 0===Q?void 0:Q.password)||"",onChange:function(e){return R("password",e.target.value)}}),Object(j.jsx)(d.d,{type:"password",label:"Confirm Password",value:(null===Q||void 0===Q?void 0:Q.confirm_password)||"",onChange:function(e){return R("confirm_password",e.target.value)}})]}),Object(j.jsxs)(i.a,{children:[Object(j.jsx)(i.d,{size:"sm",my:"4",children:"Assign Roles"}),(null===T||void 0===T?void 0:T.roles)&&Object(j.jsx)(i.h,{color:"red.500",children:null===T||void 0===T||null===(u=T.roles)||void 0===u?void 0:u.message}),Object(j.jsx)(le.b,{colorScheme:"green",value:(null===Q||void 0===Q?void 0:Q.roles)||[],onChange:function(e){return R("roles",e)},children:Object(j.jsx)(i.a,{d:"flex",flexDir:"column",children:p.map((function(e,t){return Object(j.jsx)(le.a,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},t)}))})})]})]})})},ue=function(e){var t=Object(m.c)(),n=Object(w.a)(),o=Object(y.b)(!1),r=Object(l.a)(o,2),s=r[0],a=r[1],u=Object(y.b)(!1),b=Object(l.a)(u,2),f=b[0],O=b[1],v=Object(c.useState)(null),h=Object(l.a)(v,2),S=h[0],z=h[1],k=Object(m.d)((function(e){return e.users})).users;Object(c.useEffect)((function(){"NewUser"===(null===e||void 0===e?void 0:e.data)&&O.on(),null===e||void 0===e||e.resetData()}),[e]),Object(c.useEffect)((function(){a.on(),t(g.p.get()).then((function(e){a.off()})).catch((function(e){n({description:(null===e||void 0===e?void 0:e.error)||e,status:"error"}),a.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this user?","Confirm");case 2:e.sent&&t(g.p.remove(c)).then((function(e){n({description:e.message,status:"success"})})).catch((function(e){n({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t,n=[];return null===e||void 0===e||null===(t=e.roles)||void 0===t||t.map((function(e,t){return n.push(null===e||void 0===e?void 0:e.name)})),n.join(" / ")};return Object(j.jsxs)(i.c,{h:"100vh",w:"100%",overflowY:"auto",alignItems:"flex-start",children:[Object(j.jsx)(i.a,{flex:1,children:s?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.a,{px:"5",children:Object(j.jsxs)(N.a,{bg:"white",shadow:"sm",border:"0",size:"sm",rounded:"md",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{py:"3",children:"Name"}),Object(j.jsx)(N.d,{py:"3",children:"Email"}),Object(j.jsx)(N.d,{py:"3",children:"CNIC"}),Object(j.jsx)(N.d,{py:"3",children:"Phone"}),Object(j.jsx)(N.d,{py:"3",children:"Status"}),Object(j.jsx)(N.d,{py:"3",children:"ROLES"}),Object(j.jsx)(N.d,{py:"3"})]})}),Object(j.jsx)(N.b,{children:k.map((function(e,t){return Object(j.jsxs)(N.f,{children:[Object(j.jsxs)(N.c,{children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.email}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.cnic}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.phone}),Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.status}),Object(j.jsx)(N.c,{children:D(e)}),Object(j.jsxs)(N.c,{textAlign:"right",children:[Object(j.jsx)(C.c,{size:"sm",onClick:function(){return z(e),void O.on()},rounded:"full",variant:"ghost",colorScheme:"blue",icon:Object(j.jsx)(d.c,{color:"brand.500",name:"ios-create"})}),Object(j.jsx)(C.c,{size:"sm",onClick:function(){return _(null===e||void 0===e?void 0:e._id)},rounded:"full",variant:"ghost",colorScheme:"red",icon:Object(j.jsx)(d.c,{color:"red.500",name:"md-trash"})})]})]},t)}))})]})})}),Object(j.jsx)(de,{open:f,data:S,onClose:function(){O.off(),z(null)}})]})},je=n(7),be=function(e){var t=e.open,n=e.data,o=e.onClose,r=Object(m.c)(),s=Object(w.a)(),a=Object(y.b)(!1),u=Object(l.a)(a,2),b=u[0],f=u[1],O=Object(c.useState)({name:"",permissions:{}}),v=Object(l.a)(O,2),h=v[0],p=v[1];Object(c.useEffect)((function(){if(t){var e={};je.d.map((function(t){var n={};return t.permissions.map((function(e){return n[null===e||void 0===e?void 0:e.name]=!1})),e[null===t||void 0===t?void 0:t.name]=n})),p(Object(z.a)(Object(z.a)({},h),{},{permissions:e}))}}),[t]),Object(c.useEffect)((function(){n&&t&&p(n)}),[n,t]);var x=function(){p({name:"",permissions:{}}),o()};return Object(j.jsx)(d.b,{open:t,onClose:x,title:n?"Update Role":"Create New Role",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:b,type:"submit",form:"role-form",children:"Submit"})})}),children:Object(j.jsxs)("form",{id:"role-form",onSubmit:function(e){e.preventDefault(),f.on();var t=n?g.j.update(h):g.j.add(h);r(t).then((function(e){f.off(),s({description:e.message,status:"success"}),x()})).catch((function(e){console.log("Error",e),f.off()}))},children:[Object(j.jsx)(i.a,{my:"3",p:"6",rounded:"md",bg:"gray.50",children:Object(j.jsx)(d.d,{label:"Role Name",value:null===h||void 0===h?void 0:h.name,onChange:function(e){return t="name",n=e.target.value,void p(Object(z.a)(Object(z.a)({},h),{},Object(S.a)({},t,n)));var t,n}})}),je.d.map((function(e,t){return Object(j.jsxs)(i.a,{my:"3",rounded:"md",bg:"gray.50",children:[Object(j.jsx)(i.d,{m:"0",p:"6",pb:"0",size:"sm",children:e.label}),Object(j.jsx)(i.a,{p:"6",children:e.permissions.map((function(t,n){var c,o;return Object(j.jsx)(i.a,{children:Object(j.jsx)(d.k,{isChecked:(null===h||void 0===h||null===(c=h.permissions)||void 0===c||null===(o=c[null===e||void 0===e?void 0:e.name])||void 0===o?void 0:o[null===t||void 0===t?void 0:t.name])||!1,onChange:function(n){return c=null===e||void 0===e?void 0:e.name,o=null===t||void 0===t?void 0:t.name,i=n.target,void p(Object(z.a)(Object(z.a)({},h),{},{permissions:Object(z.a)(Object(z.a)({},h.permissions),{},Object(S.a)({},c,Object(z.a)(Object(z.a)({},null===h||void 0===h?void 0:h.permissions[c]),{},Object(S.a)({},o,i.checked))))}));var c,o,i},label:null===t||void 0===t?void 0:t.description})},n)}))})]},t)}))]})})},fe=function(e){var t=Object(m.c)(),n=Object(w.a)(),o=Object(y.b)(!1),r=Object(l.a)(o,2),s=r[0],a=r[1],u=Object(c.useState)(null),b=Object(l.a)(u,2),f=b[0],O=b[1],v=Object(y.b)(!1),h=Object(l.a)(v,2),S=h[0],z=h[1],k=Object(m.d)((function(e){return e.roles})).roles;Object(c.useEffect)((function(){"NewRole"===(null===e||void 0===e?void 0:e.data)&&z.on(),null===e||void 0===e||e.resetData()}),[e]),Object(c.useEffect)((function(){a.on(),t(g.j.get()).then((function(e){a.off()})).catch((function(e){n({description:(null===e||void 0===e?void 0:e.error)||e,status:"error"}),a.off()}))}),[]);var _=function(){var e=Object(x.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this role?","Confirm");case 2:e.sent&&t(g.j.remove(c)).then((function(e){n({description:e.message,status:"success"})})).catch((function(e){n({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.c,{h:"100vh",w:"100%",overflowY:"auto",alignItems:"flex-start",children:[Object(j.jsx)(i.a,{flex:1,children:s?Object(j.jsx)(d.f,{}):Object(j.jsx)(i.a,{px:"5",children:Object(j.jsxs)(N.a,{bg:"white",shadow:"sm",border:"0",size:"sm",rounded:"md",children:[Object(j.jsx)(N.e,{children:Object(j.jsxs)(N.f,{children:[Object(j.jsx)(N.d,{py:"3",children:"Role"}),Object(j.jsx)(N.d,{py:"3"})]})}),Object(j.jsx)(N.b,{children:k.map((function(e,t){return Object(j.jsxs)(N.f,{onClick:function(){return O(e),void z.on()},cursor:"pointer",_hover:{bg:"gray.50"},children:[Object(j.jsx)(N.c,{children:null===e||void 0===e?void 0:e.name}),Object(j.jsx)(N.c,{textAlign:"right",onClick:function(e){return e.stopPropagation()},children:Object(j.jsx)(C.c,{size:"sm",onClick:function(){return _(e._id)},rounded:"full",variant:"ghost",colorScheme:"red",icon:Object(j.jsx)(d.c,{color:"red.500",name:"md-trash"})})})]},t)}))})]})})}),Object(j.jsx)(be,{open:S,data:f,onClose:function(){z.off(),O(null)}})]})},Oe=function(e){var t=Object(r.e)(),n=Object(r.f)(),o=Object(c.useState)(null),s=Object(l.a)(o,2),u=s[0],b=s[1],f=function(e,t){b(t),n(e)};return Object(j.jsx)(i.c,{h:"100vh",w:"100%",overflowY:"auto",alignItems:"flex-start",children:Object(j.jsxs)(i.a,{flex:1,px:"3",children:[Object(j.jsx)(i.a,{px:"7",py:"5",children:Object(j.jsx)(i.d,{size:"md",m:"0",children:"User Management"})}),Object(j.jsxs)(i.c,{px:"5",py:"4",justifyContent:"space-between",children:[Object(j.jsxs)(i.a,{borderBottom:"0px solid",borderColor:"brand.500",children:[Object(j.jsx)(C.a,{h:"48px",colorScheme:"gray",rounded:"0",borderBottom:"2px solid",borderColor:"/users"===(null===t||void 0===t?void 0:t.pathname)?"brand.500":"transparent",variant:"ghost",bg:"transparent",mx:"2",as:a.c,to:"/users",children:"Users"}),Object(j.jsx)(C.a,{h:"48px",colorScheme:"gray",rounded:"0",borderBottom:"2px solid",borderColor:"/users/roles"===(null===t||void 0===t?void 0:t.pathname)?"brand.500":"transparent",variant:"ghost",mx:"2",as:a.c,to:"/users/roles",children:"Roles"})]}),Object(j.jsx)(i.a,{children:Object(j.jsxs)(re.a,{children:[Object(j.jsx)(re.b,{size:"sm",colorScheme:"brand",as:C.a,rightIcon:Object(j.jsx)(d.c,{name:"md-arrow-dropdown",color:"white"}),children:"Create..."}),Object(j.jsxs)(re.d,{children:[Object(j.jsx)(re.c,{onClick:function(){return f("/users","NewUser")},children:"New User"}),Object(j.jsx)(re.c,{onClick:function(){return f("/users/roles","NewRole")},children:"New Role"})]})]})})]}),Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{exact:!0,path:"/",element:Object(j.jsx)(ue,{resetData:function(){return b(null)},data:u})}),Object(j.jsx)(r.a,{exact:!0,path:"/roles",element:Object(j.jsx)(fe,{resetData:function(){return b(null)},data:u})})]})]})})},ve=n(22),he=function(e){var t,n,r,a,u,b=e.open,f=e.data,O=e.onClose,v=(Object(ve.a)(e,["open","data","onClose"]),Object(w.a)()),h=Object(m.c)(),p=Object(y.b)(!1),x=Object(l.a)(p,2),_=x[0],D=x[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=Object(c.useState)(null),q=Object(l.a)(U,2),Q=q[0],N=q[1],R=Object(m.d)((function(e){return e.subjects})).classes,A=Object(m.d)((function(e){return e.users})).users,F=o.a.useRef(),Y=function(e,t){L(Object(z.a)(Object(z.a)({},T),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){h(g.p.get())}),[b]),Object(c.useEffect)((function(){var e,t;f&&b&&L(Object(z.a)(Object(z.a)({},f),{},{assignedTo:(null===f||void 0===f||null===(e=f.assignedTo)||void 0===e?void 0:e._id)||"",class:(null===f||void 0===f||null===(t=f.class)||void 0===t?void 0:t._id)||"",thumbnail:{file:null,preview:k.d+(null===f||void 0===f?void 0:f.thumbnail)}}))}),[f,b]);return Object(j.jsx)(d.b,{open:b,onClose:function(){L({}),N(null),O()},title:f?"Update Subject":"Create New Subject",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:_,type:"submit",form:"subject-form",children:"Submit"})})}),children:Object(j.jsxs)("form",{id:"subject-form",onSubmit:function(e){var t;e.preventDefault(),D.on(),N(null);var n=new FormData;n.append("title",(null===T||void 0===T?void 0:T.title)||""),n.append("description",(null===T||void 0===T?void 0:T.description)||""),n.append("class",(null===T||void 0===T?void 0:T.class)||""),n.append("assignedTo",(null===T||void 0===T?void 0:T.assignedTo)||""),n.append("thumbnail",(null===T||void 0===T||null===(t=T.thumbnail)||void 0===t?void 0:t.file)||"");var c=f?g.m.update(n,null===f||void 0===f?void 0:f._id):g.m.add(n);h(c).then((function(e){D.off(),v({description:e.message,status:"success"}),O()})).catch((function(e){N(null===e||void 0===e?void 0:e.error),v({description:null===e||void 0===e?void 0:e.message,status:"error"}),D.off()}))},children:[Object(j.jsx)(s.a,{objectFit:"cover",boxSize:"150px",rounded:"0",src:(null===T||void 0===T||null===(t=T.thumbnail)||void 0===t?void 0:t.preview)||"https://bit.ly/broken-link",onClick:function(e){F.current.click()}}),Object(j.jsx)(d.d,{d:"none",type:"file",ref:F,onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];n.onloadend=function(){L(Object(z.a)(Object(z.a)({},T),{},Object(S.a)({},e,{file:c,preview:n.result})))},c&&n.readAsDataURL(c)}("thumbnail",e)}}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===Q||void 0===Q||null===(n=Q.title)||void 0===n?void 0:n.message,label:"Subject Title",value:(null===T||void 0===T?void 0:T.title)||"",onChange:function(e){return Y("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===Q||void 0===Q||null===(r=Q.description)||void 0===r?void 0:r.message,label:"Description",value:(null===T||void 0===T?void 0:T.description)||"",onChange:function(e){return Y("description",e.target.value)}})}),Object(j.jsxs)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:[Object(j.jsxs)(d.i,{error:null===Q||void 0===Q||null===(a=Q.class)||void 0===a?void 0:a.message,label:"Class",value:(null===T||void 0===T?void 0:T.class)||"",onChange:function(e){return Y("class",e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"Select..."}),R.map((function(e,t){return Object(j.jsx)("option",{value:e._id,children:e.title},t)}))]}),Object(j.jsxs)(d.i,{error:null===Q||void 0===Q||null===(u=Q.assignedTo)||void 0===u?void 0:u.message,label:"Assigned To",value:(null===T||void 0===T?void 0:T.assignedTo)||"",onChange:function(e){return Y("assignedTo",e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"Select..."}),A.map((function(e,t){return Object(j.jsxs)("option",{value:e._id,children:[e.first_name," ",e.last_name]},t)}))]})]})]})})},pe=function(e){var t,n,o=e.open,r=e.data,s=e.onClose,a=(Object(ve.a)(e,["open","data","onClose"]),Object(w.a)()),u=Object(m.c)(),b=Object(y.b)(!1),f=Object(l.a)(b,2),O=f[0],v=f[1],h=Object(c.useState)(null),p=Object(l.a)(h,2),x=p[0],k=p[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=function(e,t){k(Object(z.a)(Object(z.a)({},x),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){u(g.p.get())}),[o]),Object(c.useEffect)((function(){r&&o&&k(Object(z.a)({},r))}),[r,o]);return Object(j.jsx)(d.b,{open:o,onClose:function(){k({}),E(null),s()},title:r?"Update Class":"Create New Class",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:O,type:"submit",form:"class-form",children:"Submit"})})}),children:Object(j.jsxs)("form",{id:"class-form",onSubmit:function(e){e.preventDefault(),v.on(),E(null);var t=r?g.m.update_class(x,null===r||void 0===r?void 0:r._id):g.m.add_class(x);u(t).then((function(e){v.off(),a({description:e.message,status:"success"}),s()})).catch((function(e){E(null===e||void 0===e?void 0:e.error),a({description:null===e||void 0===e?void 0:e.message,status:"error"}),v.off()}))},children:[Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===I||void 0===I||null===(t=I.title)||void 0===t?void 0:t.message,label:"Class Title",value:(null===x||void 0===x?void 0:x.title)||"",onChange:function(e){return T("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===I||void 0===I||null===(n=I.description)||void 0===n?void 0:n.message,label:"Description",value:(null===x||void 0===x?void 0:x.description)||"",onChange:function(e){return T("description",e.target.value)}})})]})})},xe=function(e){var t,n=e.data,c=e.onClick,o=e.onEdit,r=e.onDelete,l=e.active,s=Object(ve.a)(e,["data","onClick","onEdit","onDelete","active"]),a=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,window.confirm("Do you really want to remove this Class?","Confirm");case 3:e.sent&&r(null===n||void 0===n?void 0:n._id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.a,Object(z.a)(Object(z.a)({bg:"white",onClick:function(){return c(null===n||void 0===n?void 0:n._id)},border:"2px solid",borderColor:l?"brand.500":"transparent",rounded:"md",cursor:"pointer",_hover:{borderColor:"gray.300"}},s),{},{children:[Object(j.jsxs)(i.a,{p:"4",children:[Object(j.jsx)(i.d,{size:"md",children:null===n||void 0===n?void 0:n.title}),Object(j.jsx)(i.h,{fontSize:"sm",children:null===n||void 0===n?void 0:n.description})]}),Object(j.jsxs)(i.c,{px:"4",py:"2",justifyContent:"space-between",borderTop:"1px solid",borderColor:"gray.100",children:[Object(j.jsxs)(i.a,{children:[Object(j.jsx)(d.c,{name:"ios-book",mr:"2"}),Object(j.jsx)(i.h,{as:"span",fontSize:"sm",children:(null===n||void 0===n||null===(t=n.subjects)||void 0===t?void 0:t.length)||0})]}),Object(j.jsxs)(i.c,{spacing:"3",children:[Object(j.jsx)(C.c,{onClick:function(e){e.stopPropagation(),o(n)},size:"xs",rounded:"full",colorScheme:"blue",icon:Object(j.jsx)(d.c,{fontSize:"12px",name:"ios-create",color:"white"})}),Object(j.jsx)(C.c,{onClick:a,size:"xs",rounded:"full",colorScheme:"red",icon:Object(j.jsx)(d.c,{fontSize:"12px",name:"ios-trash",color:"white"})})]})]})]}))},me=function(e){var t,n=e.data,c=e.onClick,o=e.onEdit,r=e.onDelete,l=e.active,a=Object(ve.a)(e,["data","onClick","onEdit","onDelete","active"]);console.log("data:",n.thumbnail),console.log("publicpath:",k.d);var u=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,window.confirm("Do you really want to remove this Class?","Confirm");case 3:e.sent&&r(null===n||void 0===n?void 0:n._id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(i.a,Object(z.a)(Object(z.a)({bg:"white",onClick:function(){return c(null===n||void 0===n?void 0:n._id)},border:"2px solid",borderColor:l?"brand.500":"transparent",rounded:"md",cursor:"pointer",_hover:{borderColor:"gray.300"}},a),{},{children:[Object(j.jsx)(i.a,{children:Object(j.jsx)(s.a,{objectFit:"cover",w:"100%",h:"150px",rounded:"0",roundedTop:"md",src:k.d+"\\"+(null===n||void 0===n?void 0:n.thumbnail)})}),Object(j.jsx)(i.a,{p:"4",children:Object(j.jsxs)(i.d,{size:"md",children:[null===n||void 0===n?void 0:n.title," - ",null===n||void 0===n||null===(t=n.class)||void 0===t?void 0:t.title]})}),Object(j.jsxs)(i.c,{px:"4",py:"2",justifyContent:"space-between",borderTop:"1px solid",borderColor:"gray.100",children:[Object(j.jsx)(i.a,{}),Object(j.jsxs)(i.c,{spacing:"3",children:[Object(j.jsx)(C.c,{onClick:function(e){e.stopPropagation(),o(n)},size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-create",color:"gray.500"})}),Object(j.jsx)(C.c,{onClick:u,size:"xs",rounded:"full",colorScheme:"gray",icon:Object(j.jsx)(d.c,{fontSize:"14px",name:"ios-trash",color:"red.500"})})]})]})]}))},ge=function(){var e=Object(r.f)(),t=Object(u.b)(),n=Object(y.b)(!1),o=Object(l.a)(n,2),s=o[0],a=o[1],b=Object(y.b)(!1),f=Object(l.a)(b,2),O=f[0],v=f[1],h=Object(c.useState)(null),S=Object(l.a)(h,2),z=S[0],k=S[1],_=Object(y.b)(!1),D=Object(l.a)(_,2),I=D[0],E=D[1],T=Object(c.useState)(null),L=Object(l.a)(T,2),U=L[0],q=L[1],Q=Object(c.useState)(null),N=Object(l.a)(Q,2),R=N[0],A=N[1],F=Object(w.a)(),Y=Object(m.c)(),P=Object(m.d)((function(e){return null===e||void 0===e?void 0:e.subjects})),W=P.subjects,H=P.classes;Object(c.useEffect)((function(){Y(g.m.clear_subjects())}),[]),Object(c.useEffect)((function(){a.on(),Y(g.m.get_classes()).then((function(e){a.off()})).catch((function(e){console.log("Error",e),a.off()}))}),[]);var G=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Subject?","Confirm");case 2:e.sent&&Y(g.m.remove(t)).then((function(e){F({description:e.message,status:"success"})})).catch((function(e){F({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("Subjects",W),Object(j.jsxs)(i.a,{w:"100%",children:[Object(j.jsxs)(i.c,{p:"5",bg:"gray.200",flexWrap:"wrap",spacing:"4",alignItems:"stretch",justifyContent:"flex-start",children:[H.map((function(e,t){return Object(j.jsx)(xe,{active:z===e._id,onClick:function(e){return function(e){a.on(),k(e),Y(g.m.get(e)).then((function(e){a.off()})).catch((function(e){a.off(),console.log("Error",e)}))}(e)},onEdit:function(e){A(e),E.on()},onDelete:function(e){return function(e){Y(g.m.remove_class(e)).then((function(e){})).catch((function(e){}))}(e)},data:e,w:"16.666667%"},t)})),Object(j.jsx)(i.a,{w:"16.666667%",onClick:E.on,display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",rounded:"md",border:"2px dashed",borderColor:"gray.600",_hover:{borderColor:"brand.500"},children:Object(j.jsxs)(i.i,{children:[Object(j.jsx)(d.c,{name:"ios-add-circle",fontSize:"24px"}),Object(j.jsx)(i.h,{fontSize:"sm",children:"Add New Class"})]})})]}),Object(j.jsxs)(i.c,{w:"100%",px:"5",py:"4",children:[Object(j.jsx)(i.d,{size:"md",children:"Subjects"}),t.can("create:own","subjects")&&Object(j.jsx)(C.c,{colorScheme:"gray",variant:"ghost",rounded:"full",ml:"2",onClick:v.on,size:"sm",icon:Object(j.jsx)(d.c,{fontSize:"24px",color:"brand.500",name:"ios-add"})})]}),s&&Object(j.jsx)(d.f,{}),Object(j.jsx)(i.a,{p:"5",children:W?W.length>0?Object(j.jsx)(i.c,{flexWrap:"wrap",spacing:"5",alignItems:"stretch",justifyContent:"flex-start",children:W.map((function(t,n){return Object(j.jsx)(me,{onClick:function(t){return e("/subjects/"+t)},onEdit:function(e){return function(e){q(e),v.on()}(e)},onDelete:function(e){return G(e)},data:t,w:"20%"},n)}))}):Object(j.jsx)(d.a,{rounded:"md",colorScheme:"white",py:"8",shadow:"lg",center:!0,title:"You have not created any subjects yet",children:Object(j.jsxs)(i.a,{textAlign:"center",children:[Object(j.jsx)(i.h,{children:"Let us help you getting started"}),Object(j.jsx)(C.a,{mt:"4",size:"sm",onClick:v.on,children:"Create Subject"})]})}):Object(j.jsx)(d.a,{status:"info",children:"Please click on the class above to see the subjects"})}),Object(j.jsx)(he,{open:O,data:U,onClose:function(){q(null),v.off()}}),Object(j.jsx)(pe,{open:I,data:R,onClose:function(){A(null),E.off()}})]})},ye=(n(305),n(153)),we=n(306),Ce=function(e){var t,n,o=e.open,r=e.data,s=e.onClose,a=e.subject,u=(Object(ve.a)(e,["open","data","onClose","subject"]),Object(w.a)()),b=Object(m.c)(),f=Object(y.b)(!1),O=Object(l.a)(f,2),v=O[0],h=O[1],p=Object(c.useState)(null),x=Object(l.a)(p,2),k=x[0],_=x[1],D=Object(c.useState)(null),I=Object(l.a)(D,2),E=I[0],T=I[1],L=function(e,t){_(Object(z.a)(Object(z.a)({},k),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){a&&_({subject:a,order:"0"}),r&&o&&_(Object(z.a)(Object(z.a)({},r),{},{order:"0"}))}),[r,o,a]);return Object(j.jsx)(d.b,{open:o,onClose:function(){_({}),T(null),s()},title:r?"Update Chapter":"Create New Chapter",size:"sm",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:v,size:"sm",rounded:"sm",type:"submit",form:"subject-form",children:r?"Update":"Submit"})})}),children:Object(j.jsxs)("form",{id:"subject-form",onSubmit:function(e){e.preventDefault(),h.on(),T(null);var t=r?g.m.updateChapter(k,null===r||void 0===r?void 0:r._id):g.m.addChapter(k);b(t).then((function(e){h.off(),u({description:e.message,status:"success"}),s()})).catch((function(e){T(null===e||void 0===e?void 0:e.error),u({description:null===e||void 0===e?void 0:e.message,status:"error"}),h.off()}))},children:[Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===E||void 0===E||null===(t=E.title)||void 0===t?void 0:t.message,label:"Chapter Title",defaultValue:(null===k||void 0===k?void 0:k.title)||"",onChange:function(e){return L("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===E||void 0===E||null===(n=E.description)||void 0===n?void 0:n.message,label:"Chapter Description",value:(null===k||void 0===k?void 0:k.description)||"",onChange:function(e){return L("description",e.target.value)}})})]})})},Se=function(e){var t,n,o=e.open,r=e.data,s=e.onClose,a=e.chapterID,u=Object(w.a)(),b=Object(m.c)(),f=Object(y.b)(!1),O=Object(l.a)(f,2),v=O[0],h=O[1],p=Object(c.useState)(null),x=Object(l.a)(p,2),k=x[0],_=x[1],D=Object(c.useState)(null),I=Object(l.a)(D,2),E=I[0],T=I[1],L=function(e,t){_(Object(z.a)(Object(z.a)({},k),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){o&&_({order:"0"}),r&&o&&_(Object(z.a)(Object(z.a)({},r),{},{order:"0"}))}),[r,o]);return Object(j.jsx)(d.b,{open:o,onClose:function(){_({}),T(null),s()},title:r?"Update Topic":"Create New Topic",size:"sm",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{rounded:"sm",size:"sm",isLoading:v,type:"submit",form:"topic-form",children:r?"Update":"Submit"})})}),children:Object(j.jsxs)("form",{id:"topic-form",onSubmit:function(e){e.preventDefault(),h.on(),T(null);var t=r?g.m.updateTopic(k,a):g.m.addTopic(k,a);b(t).then((function(e){h.off(),u({description:e.message,status:"success"}),s()})).catch((function(e){T(null===e||void 0===e?void 0:e.error),u({description:null===e||void 0===e?void 0:e.message,status:"error"}),h.off()}))},children:[Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===E||void 0===E||null===(t=E.title)||void 0===t?void 0:t.message,label:"Topic Title",defaultValue:(null===k||void 0===k?void 0:k.title)||"",onChange:function(e){return L("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===E||void 0===E||null===(n=E.description)||void 0===n?void 0:n.message,label:"Description",value:(null===k||void 0===k?void 0:k.description)||"",onChange:function(e){return L("description",e.target.value)}})})]})})},ze=function(e){var t,n,o,r,s,a=e.open,u=e.data,b=e.contentType,f=e.onClose;console.log("data:",u);var O=Object(w.a)(),v=Object(m.c)(),h=Object(y.b)(!1),p=Object(l.a)(h,2),x=p[0],k=p[1],_=Object(c.useState)(null),D=Object(l.a)(_,2),I=D[0],E=D[1],T=Object(c.useState)(null),L=Object(l.a)(T,2),U=L[0],q=L[1];console.log("data:",u);var Q=function(e,t){"Easy"!==e&&"Medium"!==e&&"Hard"!==e?(E(Object(z.a)(Object(z.a)({},I),{},Object(S.a)({},e,t))),console.log(I)):E((function(n){return n.difficulty[e]=t,Object(z.a)({},n)}))};Object(c.useEffect)((function(){a&&E({type:null===b||void 0===b?void 0:b.type,difficulty:{Easy:40,Medium:40,Hard:20},duration:"90",passingGrade:"45",random:!0})}),[a,b]),Object(c.useEffect)((function(){var e;u&&a&&E(Object(z.a)(Object(z.a)(Object(z.a)({},null===u||void 0===u?void 0:u.content),u),{},{content:null===u||void 0===u||null===(e=u.content)||void 0===e?void 0:e._id}))}),[u,a]);return Object(j.jsx)(d.b,{open:a,onClose:function(){E({}),q(null),f()},title:u?"Update Quiz":"Create New Quiz",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{rounded:"sm",isLoading:x,type:"submit",form:"subject-form",children:u?"Update":"Submit"})})}),children:Object(j.jsxs)("form",{id:"subject-form",onSubmit:function(e){e.preventDefault(),k.on(),q(null);var t=u?g.m.updateContent(I,!1,b.topicID,b.chapterID):g.m.addContent(I,!1,b.topicID,b.chapterID);v(t).then((function(e){k.off(),O({description:e.message,status:"success"}),f()})).catch((function(e){q(null===e||void 0===e?void 0:e.error),O({description:null===e||void 0===e?void 0:e.message,status:"error"}),k.off()}))},children:[Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===U||void 0===U||null===(t=U.title)||void 0===t?void 0:t.message,label:"Quiz Title",value:(null===I||void 0===I?void 0:I.title)||"",onChange:function(e){return Q("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===U||void 0===U||null===(n=U.description)||void 0===n?void 0:n.message,label:"Quiz Description",value:(null===I||void 0===I?void 0:I.description)||"",onChange:function(e){return Q("description",e.target.value)}})}),Object(j.jsxs)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:[Object(j.jsx)(d.h,{input:!0,label:"Quiz Duration(min)",value:(null===I||void 0===I?void 0:I.duration)||"",onChange:function(e){return Q("duration",e.target.value)}}),Object(j.jsx)(d.h,{input:!0,label:"Passing Grade(%)",value:(null===I||void 0===I?void 0:I.passingGrade)||"",onChange:function(e){return Q("passingGrade",e.target.value)}}),Object(j.jsx)(d.h,{radio:!0,label:"Random Questions",value:(null===I||void 0===I?void 0:I.random)||"",onChange:function(e){return Q("random",e.target.checked)}})]}),Object(j.jsxs)(i.i,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:[Object(j.jsx)(d.h,{label:"Difficulty Level(%)"}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(d.h,{input:!0,value:null===I||void 0===I||null===(o=I.difficulty)||void 0===o?void 0:o.Easy,onChange:function(e){return Q("Easy",e.target.value)},placeholder:"Easy"}),Object(j.jsx)(d.h,{input:!0,value:null===I||void 0===I||null===(r=I.difficulty)||void 0===r?void 0:r.Medium,onChange:function(e){return Q("Medium",e.target.value)},placeholder:"Medium"}),Object(j.jsx)(d.h,{input:!0,value:null===I||void 0===I||null===(s=I.difficulty)||void 0===s?void 0:s.Hard,onChange:function(e){return Q("Hard",e.target.value)},placeholder:"Hard"})]})]})]})})},ke=n(152),_e=n(113),De=n(151),Ie=n(107),Ee=function(e){var t,n,o,r=e.open,s=e.IDs,a=e.onClose,b=Object(u.b)(),f=Object(w.a)(),O=Object(m.c)(),v=Object(y.b)(!1),h=Object(l.a)(v,2),p=h[0],x=h[1],S=Object(m.d)((function(e){return e.questionBank})),k=(S.quizQuestions,S.questionBankTagQuestions),_=Object(m.d)((function(e){return e.auth.user._id}));console.log(b.can("create:own","questions"));var D=Object(c.useState)({currentQuestion:null,questions:[]}),E=Object(l.a)(D,2),T=E[0],L=E[1],U=Object(c.useState)([]),q=Object(l.a)(U,2),Q=q[0],N=q[1],R=Object(c.useState)([]),A=Object(l.a)(R,2),F=A[0],Y=A[1],P=Object(c.useState)([]),W=Object(l.a)(P,2),H=W[0],G=W[1],M=function(){b.can("read:any","questions")?O(g.i.getByTags({tags:H},s.quizID)):b.can("read:own","questions")&&O(g.i.getByTags({tags:H},s.quizID,_))},V=function(e,t,n){var c,o=null===T||void 0===T||null===(c=T.questions)||void 0===c?void 0:c.filter((function(n,c){return c===T.currentQuestion&&(n[e]=t),n}));L(Object(z.a)(Object(z.a)({},T),{},{questions:o}))};Object(c.useEffect)((function(){s&&(O(g.i.clearTags()),O(g.i.get(s.quizID)).then((function(e){Y(e.questions)})))}),[r,s,O]);var B=function(){L({currentQuestion:null,questions:[]}),N([]),Y([]),G([]),a()};return Object(j.jsx)(d.b,{open:r,onClose:B,title:"View Quiz",size:"xl",footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{rounded:"sm",size:"sm",isLoading:p,onClick:function(){x.on();var e=g.i.add(Q,null===T||void 0===T?void 0:T.questions,F,s.quizID);O(e).then((function(e){x.off(),f({description:e.message,status:"success"}),B()})).catch((function(e){f({description:null===e||void 0===e?void 0:e.message,status:"error"}),x.off()}))},children:"Save Quiz"})})}),children:Object(j.jsxs)(i.c,{py:2,alignItems:"start",h:"100%",spacing:5,children:[Object(j.jsxs)(De.e,{w:"50%",h:"100%",overflowY:"auto",colorScheme:"brand",borderRightWidth:"thin",pr:1,children:[Object(j.jsxs)(De.b,{children:[Object(j.jsx)(De.a,{children:"Question Bank"}),b.can("create:own","questions")&&Object(j.jsx)(De.a,{children:"New Questions"}),Object(j.jsx)(De.a,{children:"Quiz"})]}),Object(j.jsxs)(De.d,{children:[Object(j.jsx)(De.c,{p:0,py:2,children:Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsx)(d.d,{w:"50%",size:"sm",placeholder:"Search Question By Tag From Question Bank",onKeyUp:function(e){e.preventDefault(),function(e,t){188===t?G((function(){var t="";console.log(e.target.value);for(var n=0;n<e.target.value.length;n++){if(n===e.target.value.length-1){e.target.value="";break}t+=e.target.value[n]}return[].concat(Object(I.a)(H),[t])})):13===t&&M()}(e,e.keyCode)}}),Object(j.jsx)(i.c,{flexWrap:"wrap",children:null===H||void 0===H?void 0:H.map((function(e,t){return Object(j.jsxs)(ke.a,{colorScheme:"brand",borderRadius:"sm",children:[Object(j.jsx)(ke.c,{children:e}),Object(j.jsx)(ke.b,{})]},t)}))}),Object(j.jsx)(i.i,{spacing:1,alignItems:"flex-start",children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(j.jsx)(le.a,{colorScheme:"brand",onChange:function(n){return function(e,t,n){if(e)N([].concat(Object(I.a)(Q),[k[t]._id]));else{var c=Q.filter((function(e,t){return e!==n}));N(c)}}(n.target.checked,t,null===e||void 0===e?void 0:e._id)},children:Object(j.jsx)(i.c,{w:"100%",borderWidth:"thin",px:2,cursor:"pointer",bg:"gray.100",children:Object(j.jsx)(i.h,{fontSize:"sm",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.question}})})},"questionBankTagQuestion-"+t)}))})]})}),b.can("create:own","questions")&&Object(j.jsx)(De.c,{p:0,py:2,children:Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsxs)(C.a,{rounded:"sm",onClick:function(){L(Object(z.a)(Object(z.a)({},T),{},{questions:[].concat(Object(I.a)(T.questions),[{userID:_,subject:s.subjectID,chapter:null===s||void 0===s?void 0:s.chapterID,topic:null===s||void 0===s?void 0:s.topicID,question:"question",explaination:"",options:[" "," "],answers:[!1,!1],tags:[],difficulty:"EASY"}])}))},size:"sm",mb:2,children:[Object(j.jsx)(d.c,{name:"md-add",fontSize:"18px",color:"white",mr:2}),"Question"]}),null===T||void 0===T||null===(t=T.questions)||void 0===t?void 0:t.map((function(e,t){return Object(j.jsxs)(i.c,{w:"100%",KEY:"question-"+t,borderWidth:"thin",px:2,cursor:"pointer",_hover:{bg:"gray.100"},bg:(null===T||void 0===T?void 0:T.currentQuestion)===t?"gray.200":"",children:[Object(j.jsxs)(i.h,{fontSize:"sm",onClick:function(){!function(e){L(Object(z.a)(Object(z.a)({},T),{},{currentQuestion:null})),L(Object(z.a)(Object(z.a)({},T),{},{currentQuestion:e}))}(t)},children:["Question #",t+1]}),Object(j.jsx)(i.f,{}),Object(j.jsx)(d.c,{name:"ios-close",fontSize:"18px",color:"red",onClick:function(){!function(e){var t,n=null===T||void 0===T||null===(t=T.questions)||void 0===t?void 0:t.filter((function(t,n){return n!==e}));L(Object(z.a)(Object(z.a)({},T),{},{questions:n})),e===T.currentQuestion&&L(Object(z.a)(Object(z.a)({},T),{},{currentQuestion:null}))}(t)}})]})}))]})}),Object(j.jsx)(De.c,{p:0,py:2,children:Object(j.jsx)(i.i,{alignItems:"flex-start",children:F.length>0?null===F||void 0===F?void 0:F.map((function(e,t){return Object(j.jsxs)(i.c,{w:"100%",borderWidth:"thin",px:2,cursor:"pointer",bg:"gray.100",children:[Object(j.jsx)(i.h,{fontSize:"sm",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.question}}),Object(j.jsx)(i.f,{}),Object(j.jsx)(d.c,{name:"ios-close",fontSize:"18px",color:"red",onClick:function(){!function(e){var t=null===F||void 0===F?void 0:F.filter((function(t,n){return n!==e}));Y(t)}(t)}})]},"qQuestion-"+t)})):Object(j.jsxs)(Ie.a,{status:"success",children:[Object(j.jsx)(Ie.c,{}),Object(j.jsx)(Ie.b,{display:"block",children:"Please Add New Question or Select Questions From Question Bank"})]})})})]})]}),null!=(null===T||void 0===T?void 0:T.currentQuestion)?Object(j.jsxs)(i.i,{w:"50%",overflowY:"auto",alignItems:"flex-start",h:"100%",children:[Object(j.jsx)(d.e,{onChange:function(e){!function(e){T.questions[null===T||void 0===T?void 0:T.currentQuestion].difficulty=e,L(Object(z.a)({},T))}(e)}}),Object(j.jsx)(d.l,{label:"Question #"+((null===T||void 0===T?void 0:T.currentQuestion)+1),value:null===T||void 0===T?void 0:T.questions[null===T||void 0===T?void 0:T.currentQuestion].question,onChange:function(e,t){V("question",e)}}),Object(j.jsx)(d.l,{label:"Explaination",value:null===T||void 0===T?void 0:T.questions[null===T||void 0===T?void 0:T.currentQuestion].explaination,onChange:function(e,t){V("explaination",e)}}),Object(j.jsx)(i.d,{size:"sm",w:"100%",fontWeight:500,children:"Options:"}),null===T||void 0===T||null===(n=T.questions[null===T||void 0===T?void 0:T.currentQuestion])||void 0===n?void 0:n.options.map((function(e,t){var n;return Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsx)(d.l,{label:"Option #"+(t+1),value:e,onChange:function(e){!function(e,t){var n,c=null===T||void 0===T||null===(n=T.questions)||void 0===n?void 0:n.filter((function(n,c){return c===T.currentQuestion&&(n.options[t]=e),n}));L(Object(z.a)(Object(z.a)({},T),{},{questions:c}))}(e,t)}}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(_e.a,{size:"sm",colorScheme:"brand",isChecked:null===T||void 0===T||null===(n=T.questions[null===T||void 0===T?void 0:T.currentQuestion])||void 0===n?void 0:n.answers[t],onChange:function(e){!function(e,t){var n,c=null===T||void 0===T||null===(n=T.questions)||void 0===n?void 0:n.filter((function(n,c){return c===T.currentQuestion&&(n.answers[t]=e),n}));L(Object(z.a)(Object(z.a)({},T),{},{questions:c}))}(e.target.checked,t)}}),t>1&&Object(j.jsx)(d.c,{name:"md-trash",color:"red.500",fontSize:18,onClick:function(){var e;e=t,T.questions[null===T||void 0===T?void 0:T.currentQuestion].options=null===T||void 0===T?void 0:T.questions[null===T||void 0===T?void 0:T.currentQuestion].options.filter((function(t,n){return n!==e})),T.questions[null===T||void 0===T?void 0:T.currentQuestion].answers=null===T||void 0===T?void 0:T.questions[null===T||void 0===T?void 0:T.currentQuestion].answers.filter((function(t,n){return n!==e})),L(Object(z.a)({},T))}})]})]},"option-"+t)})),Object(j.jsx)(i.c,{children:Object(j.jsx)(C.a,{size:"sm",rounded:"sm",onClick:function(){null===T||void 0===T||T.questions[null===T||void 0===T?void 0:T.currentQuestion].options.push(""),null===T||void 0===T||T.questions[null===T||void 0===T?void 0:T.currentQuestion].answers.push(!1),L(Object(z.a)({},T))},children:"Add Option"})}),Object(j.jsx)(d.d,{label:"Tags",onKeyUp:function(e){e.preventDefault(),function(e,t){13===t&&(T.questions=null===T||void 0===T?void 0:T.questions.map((function(t,n){return n===T.currentQuestion&&(t.tags=[].concat(Object(I.a)(t.tags),[e.target.value])),t})),L(Object(z.a)({},T)),e.target.value="")}(e,e.keyCode)}}),Object(j.jsx)(i.c,{flexWrap:"wrap",children:null===T||void 0===T||null===(o=T.questions[null===T||void 0===T?void 0:T.currentQuestion])||void 0===o?void 0:o.tags.map((function(e,t){return Object(j.jsx)(ke.a,{colorScheme:"brand",borderRadius:"sm",children:Object(j.jsx)(ke.c,{children:e})},"tag-"+t)}))})]}):Object(j.jsxs)(Ie.a,{status:"success",w:"50%",children:[Object(j.jsx)(Ie.c,{}),Object(j.jsx)(Ie.b,{children:"Please Select Question"})]})]})})},Te=function(e){var t,n,r,s,a,u,b=e.open,f=e.data,O=e.contentType,v=e.onClose,h=Object(w.a)(),p=Object(m.c)(),x=Object(y.b)(!1),k=Object(l.a)(x,2),_=k[0],D=k[1],I=Object(c.useState)(null),E=Object(l.a)(I,2),T=E[0],L=E[1],U=Object(c.useState)(null),q=Object(l.a)(U,2),Q=q[0],N=q[1],R=Object(y.b)(!1),A=Object(l.a)(R,2),F=A[0],Y=A[1],P=o.a.useRef(),W=function(e,t){L(Object(z.a)(Object(z.a)({},T),{},Object(S.a)({},e,t)))};Object(c.useEffect)((function(){console.log(b),Y&&(L({type:null===O||void 0===O?void 0:O.type}),Y.off(),console.log("yess"))}),[b]),Object(c.useEffect)((function(){f&&b&&L(Object(z.a)({},f))}),[f,b]);return Object(j.jsx)(d.b,{open:b,onClose:function(){L({}),N(null),Y.off(),v()},title:f?"Update "+(null===O||void 0===O?void 0:O.type):"Create New "+(null===O||void 0===O?void 0:O.type),footer:Object(j.jsx)(i.c,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(C.a,{isLoading:_,rounded:"sm",size:"sm",type:"submit",form:"subject-form",children:"Submit"})})}),children:Object(j.jsxs)("form",{id:"subject-form",onSubmit:function(e){var t,n;(e.preventDefault(),console.log("state:",T),console.log("file:",F),F)&&((t=new FormData).append("title",(null===T||void 0===T?void 0:T.title)||""),t.append("type",O.type||""),t.append("description",(null===T||void 0===T?void 0:T.description)||""),t.append("content",null===T||void 0===T||null===(n=T.content)||void 0===n?void 0:n.file));console.log(T),D.on(),N(null);var c=f?g.m.updateContent(F?t:T,F,O.topicID,O.chapterID):g.m.addContent(F?t:T,F,O.topicID,O.chapterID);p(c).then((function(e){D.off(),h({description:e.message,status:"success"}),v()})).catch((function(e){N(null===e||void 0===e?void 0:e.error),h({description:null===e||void 0===e?void 0:e.message,status:"error"}),D.off()}))},children:[Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===Q||void 0===Q||null===(t=Q.title)||void 0===t?void 0:t.message,label:"Title",value:(null===T||void 0===T?void 0:T.title)||"",onChange:function(e){return W("title",e.target.value)}})}),Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{textarea:!0,error:null===Q||void 0===Q||null===(n=Q.description)||void 0===n?void 0:n.message,label:"Description",value:(null===T||void 0===T?void 0:T.description)||"",onChange:function(e){return W("description",e.target.value)}})}),"VIDEO"===(null===O||void 0===O?void 0:O.type)?Object(j.jsx)(i.c,{justifyContent:"space-between",spacing:"5",my:"20px",alignItems:"flex-start",children:Object(j.jsx)(d.d,{error:null===Q||void 0===Q||null===(r=Q.description)||void 0===r?void 0:r.content,label:"Video URL",leftLabel:"WWW.VIMEO.COM/",value:(null===T||void 0===T?void 0:T.content)||"XXCV23Y",onChange:function(e){return W("content",e.target.value)}})}):"FILE"===(null===O||void 0===O?void 0:O.type)?Object(j.jsxs)(i.i,{alignItems:"flex-start",children:[Object(j.jsxs)(C.a,{rounded:"sm",size:"sm",variant:"outline",onClick:function(e){P.current.click()},children:[Object(j.jsx)(d.c,{name:"ios-document",color:"brand.500",mr:2}),"Select File"]}),Object(j.jsx)(d.d,{d:"none",type:"file",ref:P,onChange:function(e){return function(e,t){var n=new FileReader,c=t.target.files[0];Y.on(),n.onloadend=function(){L(Object(z.a)(Object(z.a)({},T),{},Object(S.a)({},e,{file:c,preview:n.result})))},c&&n.readAsDataURL(c)}("content",e)}}),Object(j.jsx)(i.h,{children:(null===T||void 0===T||null===(s=T.content)||void 0===s||null===(a=s.file)||void 0===a?void 0:a.name)||(null===T||void 0===T?void 0:T.content)})]}):Object(j.jsx)(i.c,{children:Object(j.jsx)(d.l,{error:null===Q||void 0===Q||null===(u=Q.description)||void 0===u?void 0:u.content,label:"Text Contents",value:(null===T||void 0===T?void 0:T.content)||"",onChange:function(e){return W("content",e)}})})]})})},Le=function(){var e=Object(r.f)(),t=Object(w.a)(),n=Object(r.g)().subject_id,o=Object(y.b)(!1),s=Object(l.a)(o,2),a=s[0],b=s[1],f=Object(c.useState)(null),O=Object(l.a)(f,2),v=O[0],h=O[1],S=Object(y.b)(!1),k=Object(l.a)(S,2),_=k[0],D=k[1],E=Object(c.useState)(null),T=Object(l.a)(E,2),L=T[0],U=T[1],q=Object(c.useState)(null),Q=Object(l.a)(q,2),N=Q[0],R=Q[1],A=Object(y.b)(!1),F=Object(l.a)(A,2),Y=F[0],P=F[1],W=Object(c.useState)(null),H=Object(l.a)(W,2),G=H[0],M=H[1],V=Object(c.useState)(null),B=Object(l.a)(V,2),J=B[0],X=B[1],K=Object(y.b)(!1),Z=Object(l.a)(K,2),$=Z[0],ee=Z[1],te=Object(c.useState)(null),ne=Object(l.a)(te,2),ce=ne[0],oe=ne[1],ie=Object(y.b)(!1),re=Object(l.a)(ie,2),le=re[0],se=re[1],ae=Object(c.useState)(null),de=Object(l.a)(ae,2),ue=de[0],je=de[1],be=Object(m.c)(),fe=Object(y.b)(!1),Oe=Object(l.a)(fe,2),ve=Oe[0],he=Oe[1],pe=Object(m.d)((function(e){return e.subjects})).subject,xe=Object(c.useState)([]),me=Object(l.a)(xe,2),ge=me[0],ke=me[1];Object(c.useEffect)((function(){be(g.m.clear_subject())}),[]),Object(c.useEffect)((function(){he.on(),be(g.m.details(n)).then((function(e){var t;ke(null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.chapters),he.off()})).catch((function(e){he.off()}))}),[]);var _e=function(){var e=Object(x.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Chapter?","Confirm");case 2:e.sent&&be(g.m.deleteChapter(n)).then((function(e){t({description:e.message,status:"success"}),ke(null===pe||void 0===pe?void 0:pe.chapters)})).catch((function(e){t({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(x.a)(p.a.mark((function e(n,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Topic?","Confirm");case 2:e.sent&&be(g.m.deleteTopic(n,c)).then((function(e){t({description:e.message,status:"success"}),ke(null===pe||void 0===pe?void 0:pe.chapters)})).catch((function(e){t({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(x.a)(p.a.mark((function e(n,c,o){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.confirm("Do you really want to remove this Topic Content?","Confirm");case 2:e.sent&&be(g.m.deleteContent(n,c,o)).then((function(e){t({description:e.message,status:"success"})})).catch((function(e){t({description:e.error,status:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Le=function(e,t,n){var c=Array.from(e),o=c.splice(t,1),i=Object(l.a)(o,1)[0];return c.splice(n,0,i),c};return Object(j.jsxs)(i.a,{h:"100vh",overflowY:"auto",children:[ve&&Object(j.jsx)(d.f,{}),Object(j.jsxs)(i.c,{w:"100%",px:5,py:2,position:"sticky",top:0,bg:"white",zIndex:99,children:[Object(j.jsx)(d.c,{fontSize:"32px",color:"gray.600",mr:3,name:"ios-arrow-round-back",cursor:"pointer",onClick:function(){return e(-1)}}),Object(j.jsx)(i.d,{size:"md",children:null===pe||void 0===pe?void 0:pe.title})]}),Object(j.jsxs)(i.a,{px:5,py:2,children:[Object(j.jsx)(we.a,{onDragEnd:function(e){if(e.destination){var t=e.source.index,n=e.destination.index;if("droppableItem"===e.type){var c=Le(ge,t,n);ke(c)}else if("droppableSubItem"===e.type){var o=ge.reduce((function(e,t){return e[t._id]=t.topics,e}),{}),i=e.source.droppableId,r=e.destination.droppableId,s=o[i],a=o[r],d=Object(I.a)(ge);if(i===r){var u=Le(s,t,n);d=d.map((function(e){return e._id===i&&(e.topics=u),e})),ke(d)}else{var j=Object(I.a)(s),b=j.splice(t,1),f=Object(l.a)(b,1)[0],O=Object(I.a)(a);O.splice(n,0,f),d=d.map((function(e){return e._id===i?e.topics=j:e._id===r&&(e.topics=O),e})),ke(d)}}}},children:Object(j.jsx)(we.c,{droppableId:"dropcontainer",type:"droppableItem",children:function(e){return Object(j.jsxs)(i.a,{ref:e.innerRef,children:[e.placeholder,(null===ge||void 0===ge?void 0:ge.length)<1?Object(j.jsx)(d.a,{status:"info",children:"Please click on the Add new Chapter button to Add the subjects"}):null===ge||void 0===ge?void 0:ge.map((function(e,t){return Object(j.jsx)(we.b,{draggableId:e._id,index:t,children:function(t){return Object(j.jsxs)(i.a,Object(z.a)(Object(z.a)({ref:t.innerRef},t.draggableProps),{},{my:"5",shadow:"md",children:[Object(j.jsxs)(i.c,{bg:"white",px:"5",py:"1",children:[Object(j.jsx)(i.a,Object(z.a)(Object(z.a)({},t.dragHandleProps),{},{mr:"3",children:Object(j.jsx)(d.c,{fontSize:"20px",color:"gray.400",name:"ios-reorder"})})),Object(j.jsx)(i.d,{size:"sm",fontWeight:500,children:e.title}),Object(j.jsx)(i.f,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(d.c,{fontSize:"18px",cursor:"pointer",color:"green.500",name:"md-add",onClick:function(){R(e._id),D.on()}}),Object(j.jsx)(d.c,{fontSize:"18px",color:"brand.500",name:"ios-create",onClick:function(){h(e),b.on()}}),Object(j.jsx)(d.c,{fontSize:"18px",color:"red.400",name:"ios-trash",onClick:function(){_e(e._id)}})]})]}),Object(j.jsx)(we.c,{droppableId:e._id,type:"droppableSubItem",children:function(t){var n;return Object(j.jsxs)(i.a,{ref:t.innerRef,bg:"gray.100",children:[t.placeholder,Object(j.jsx)(i.i,{spacing:0,children:Object(j.jsx)(i.a,{w:"100%",children:null===e||void 0===e||null===(n=e.topics)||void 0===n?void 0:n.map((function(t,n){return Object(j.jsx)(we.b,{draggableId:t._id,index:n,children:function(n){var c;return Object(j.jsx)(i.a,Object(z.a)(Object(z.a)({ref:n.innerRef},n.draggableProps),{},{mx:4,my:3,children:Object(j.jsxs)(i.i,{w:"100%",spacing:0,children:[Object(j.jsxs)(i.c,{spacing:2,w:"100%",px:3,py:1,bg:"white",children:[Object(j.jsx)(i.a,Object(z.a)(Object(z.a)({},n.dragHandleProps),{},{children:Object(j.jsx)(d.c,{fontSize:"20px",color:"gray.400",name:"ios-reorder"})})),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(d.c,{name:"md-paper"}),Object(j.jsx)(i.d,{size:"sm",fontWeight:500,children:null===t||void 0===t?void 0:t.title})]}),Object(j.jsx)(i.f,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(ye.a,{label:"Add Content",placement:"right",children:Object(j.jsx)(d.g,{title:"Add Contents",actions:Object(j.jsxs)(i.c,{flexWrap:"wrap",spacing:3,children:[Object(j.jsxs)(C.a,{w:"21%",variant:"unstyled",h:"auto",bg:"gray.50",p:"4",py:"2",_hover:{bg:"gray.100"},text:{fontWeight:"400"},onClick:function(){X({type:"VIDEO",topicID:t._id,chapterID:e._id}),P.on()},children:[Object(j.jsx)(d.c,{name:"md-videocam"}),Object(j.jsx)(i.h,{fontSize:"sm",fontWeight:"normal",children:"Video"})]}),Object(j.jsxs)(C.a,{w:"21%",variant:"unstyled",h:"auto",bg:"gray.50",p:"4",py:"2",_hover:{bg:"gray.100"},text:{fontWeight:"400"},onClick:function(){X({type:"TEXT",topicID:t._id,chapterID:e._id}),P.on()},children:[Object(j.jsx)(d.c,{name:"md-paper"}),Object(j.jsx)(i.h,{fontSize:"sm",fontWeight:"normal",children:"Text"})]}),Object(j.jsxs)(C.a,{w:"21%",variant:"unstyled",h:"auto",bg:"gray.50",p:"4",py:"2",_hover:{bg:"gray.100"},text:{fontWeight:"400"},onClick:function(){X({type:"QUIZ",topicID:t._id,chapterID:e._id}),se.on()},children:[Object(j.jsx)(d.c,{name:"ios-help-circle"}),Object(j.jsx)(i.h,{fontSize:"sm",fontWeight:"normal",children:"Quiz"})]}),Object(j.jsxs)(C.a,{w:"21%",variant:"unstyled",h:"auto",bg:"gray.50",p:"4",py:"2",_hover:{bg:"gray.100"},text:{fontWeight:"400"},onClick:function(){X({type:"FILE",topicID:t._id,chapterID:e._id}),P.on()},children:[Object(j.jsx)(d.c,{name:"ios-attach"}),Object(j.jsx)(i.h,{fontSize:"sm",fontWeight:"normal",children:"File"})]})]}),children:Object(j.jsx)(d.c,{fontSize:"18px",cursor:"pointer",color:"green.500",name:"ios-more"})})}),Object(j.jsx)(d.c,{fontSize:"18px",color:"brand.500",name:"ios-create",onClick:function(){var n,c;n=t,c=e._id,U(n),R(c),D.on()}}),Object(j.jsx)(d.c,{fontSize:"18px",color:"red.400",name:"ios-trash",onClick:function(){De(t._id,e._id)}})]})]}),Object(j.jsx)(i.i,{className:"contents",bg:"white",spacing:1,alignItems:"flex-start",w:"100%",px:5,py:1,children:(null===t||void 0===t?void 0:t.contents.length)<1?Object(j.jsx)(d.a,{status:"info",w:"400px",bg:"white",children:"Click on Add Button to Add Topic Contents"}):null===t||void 0===t||null===(c=t.contents)||void 0===c?void 0:c.map((function(n,c){return Object(j.jsxs)(i.c,{spacing:3,className:"content",children:["VIDEO"===(null===n||void 0===n?void 0:n.contentType)?Object(j.jsx)(i.a,{width:"17px",children:Object(j.jsx)(d.c,{fontSize:"16px",name:"md-videocam"})}):"FILE"===(null===n||void 0===n?void 0:n.contentType)?Object(j.jsx)(i.a,{width:"17px",children:Object(j.jsx)(d.c,{fontSize:"16px",name:"md-document"})}):"TEXT"===(null===n||void 0===n?void 0:n.contentType)?Object(j.jsx)(i.a,{width:"17px",children:Object(j.jsx)(d.c,{fontSize:"16px",name:"md-text"})}):Object(j.jsx)(i.a,{width:"17px",children:Object(j.jsx)(d.c,{fontSize:"20px",name:"md-help"})}),Object(j.jsx)(i.d,{fontSize:"sm",fontWeight:400,pr:5,children:null===n||void 0===n?void 0:n.title}),Object(j.jsxs)(i.c,{className:"content-actions",children:["QUIZ"===(null===n||void 0===n?void 0:n.contentType)&&Object(j.jsx)(d.c,{fontSize:"16px",name:"md-list-box",onClick:function(){var c;oe({chapterID:e._id,topicID:t._id,subjectID:pe._id,quizID:null===n||void 0===n||null===(c=n.content)||void 0===c?void 0:c._id}),ee.on()}}),Object(j.jsx)(d.c,{fontSize:"16px",color:"brand.500",name:"md-create",onClick:function(){X({type:null===n||void 0===n?void 0:n.contentType,topicID:t._id,chapterID:e._id}),function(e,t){if("QUIZ"===t)return je(e),void se.on();M(e),P.on()}(n,n.contentType)}}),Object(j.jsx)(d.c,{fontSize:"16px",color:"red.500",name:"ios-trash",onClick:function(){Ie(null===e||void 0===e?void 0:e._id,null===t||void 0===t?void 0:t._id,null===n||void 0===n?void 0:n._id)}})]})]},c)}))})]})}))}},t._id)}))})})]})}})]}))}},e._id)}))]})}})}),Object(j.jsx)(i.c,{py:"5",children:Object(j.jsx)(u.a,{I:"create:own",a:"subjects",children:Object(j.jsx)(C.a,{rounded:"sm",size:"sm",onClick:b.on,children:"Add New Chapter"})})})]}),Object(j.jsx)(Ce,{open:a,data:v,subject:null===pe||void 0===pe?void 0:pe._id,onClose:function(){h(null),b.off(),ke(null===pe||void 0===pe?void 0:pe.chapters)}}),Object(j.jsx)(Se,{open:_,data:L,chapterID:N,onClose:function(){U(null),R(null),D.off(),ke(null===pe||void 0===pe?void 0:pe.chapters)}}),Object(j.jsx)(ze,{open:le,data:ue,contentType:J,onClose:function(){je(null),se.off()}}),Object(j.jsx)(Te,{open:Y,data:G,contentType:J,onClose:function(){M(null),P.off()}}),Object(j.jsx)(Ee,{open:$,IDs:ce,onClose:function(){oe(null),ee.off()}})]})};t.default=function(){return Object(j.jsxs)(i.a,{d:"flex",h:"100vh",bg:"gray.100",children:[Object(j.jsx)(f,{}),Object(j.jsx)(i.a,{maxW:"calc(100% - 260px)",flex:1,children:Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{exact:!0,path:"/",element:Object(j.jsx)(v,{})}),Object(j.jsx)(r.a,{path:"/users/*",element:Object(j.jsx)(Oe,{})}),Object(j.jsx)(r.a,{path:"/gallery",element:Object(j.jsx)(L,{})}),Object(j.jsx)(r.a,{path:"/news-&-events",element:Object(j.jsx)(Q,{})}),Object(j.jsx)(r.a,{path:"/headlines",element:Object(j.jsx)(V,{})}),Object(j.jsx)(r.a,{path:"/tenders",element:Object(j.jsx)(A,{})}),Object(j.jsx)(r.a,{path:"/jobs",element:Object(j.jsx)(Y,{})}),Object(j.jsx)(r.a,{path:"/downloads",element:Object(j.jsx)(W,{})}),Object(j.jsx)(r.a,{path:"/usefulLinks",element:Object(j.jsx)(G,{})}),Object(j.jsx)(r.a,{path:"/slider",element:Object(j.jsx)(X,{})}),Object(j.jsx)(r.a,{path:"/videos",element:Object(j.jsx)($,{})}),Object(j.jsx)(r.a,{path:"/locations",element:Object(j.jsx)(te,{})}),Object(j.jsx)(r.a,{path:"/team",element:Object(j.jsx)(ce,{})}),Object(j.jsx)(r.a,{path:"/social-links",element:Object(j.jsx)(ie,{})}),Object(j.jsx)(r.a,{exact:!0,path:"/subjects",element:Object(j.jsx)(ge,{})}),Object(j.jsx)(r.a,{exact:!0,path:"/subjects/:subject_id",element:Object(j.jsx)(Le,{})}),Object(j.jsx)(r.a,{path:"*",element:Object(j.jsx)(O.a,{})})]})})]})}}}]);
//# sourceMappingURL=5.86beb8af.chunk.js.map